2017-11-16 17:15:48,992 p=61592 u=tbj |  PLAY [binary package install MySQL] **************************************************************************************************************************************
2017-11-16 17:15:49,073 p=61592 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-16 17:15:51,417 p=61592 u=tbj |  ok: [192.168.1.102]
2017-11-16 17:15:51,421 p=61592 u=tbj |  TASK [查看是否有ignorespace设置] ************************************************************************************************************************************************
2017-11-16 17:15:51,869 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:15:51,873 p=61592 u=tbj |  TASK [是否进行ignorespace设置] *************************************************************************************************************************************************
2017-11-16 17:15:51,893 p=61592 u=tbj |  skipping: [192.168.1.102]
2017-11-16 17:15:51,898 p=61592 u=tbj |  TASK [查看是否有mysql path设置] *************************************************************************************************************************************************
2017-11-16 17:15:52,637 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:15:52,641 p=61592 u=tbj |  TASK [是否进行MySQL环境变量配置] ***************************************************************************************************************************************************
2017-11-16 17:15:52,663 p=61592 u=tbj |  skipping: [192.168.1.102]
2017-11-16 17:15:52,666 p=61592 u=tbj |  TASK [安装基础包] *************************************************************************************************************************************************************
2017-11-16 17:16:20,584 p=61592 u=tbj |  ok: [192.168.1.102] => (item=[u'https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm', u'vim', u'screen', u'telnet'])
2017-11-16 17:16:20,589 p=61592 u=tbj |  TASK [安装数据库依赖包] **********************************************************************************************************************************************************
2017-11-16 17:16:21,310 p=61592 u=tbj |  ok: [192.168.1.102] => (item=[u'autoconf', u'libselinux-python', u'numactl', u'iftop'])
2017-11-16 17:16:21,314 p=61592 u=tbj |  TASK [create mysql user] *************************************************************************************************************************************************
2017-11-16 17:16:21,920 p=61592 u=tbj |  ok: [192.168.1.102]
2017-11-16 17:16:21,928 p=61592 u=tbj |  TASK [copy] **************************************************************************************************************************************************************
2017-11-16 17:16:24,689 p=61592 u=tbj |  ok: [192.168.1.102]
2017-11-16 17:16:24,695 p=61592 u=tbj |  TASK [查看是否有已经按照mysql包] ***************************************************************************************************************************************************
2017-11-16 17:16:25,080 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:25,084 p=61592 u=tbj |  TASK [tar] ***************************************************************************************************************************************************************
2017-11-16 17:16:25,106 p=61592 u=tbj |  skipping: [192.168.1.102]
2017-11-16 17:16:25,114 p=61592 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-16 17:16:25,120 p=61592 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-16 17:16:26,028 p=61592 u=tbj |  ok: [192.168.1.102]
2017-11-16 17:16:26,032 p=61592 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-16 17:16:26,400 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:26,404 p=61592 u=tbj |  TASK [mkdir] *************************************************************************************************************************************************************
2017-11-16 17:16:26,773 p=61592 u=tbj |   [WARNING]: Consider using file module with state=directory rather than running mkdir

2017-11-16 17:16:26,773 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:26,777 p=61592 u=tbj |  TASK [chown] *************************************************************************************************************************************************************
2017-11-16 17:16:27,452 p=61592 u=tbj |   [WARNING]: Consider using file module with owner rather than running chown

2017-11-16 17:16:27,452 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:27,458 p=61592 u=tbj |  TASK [copy config file] **************************************************************************************************************************************************
2017-11-16 17:16:29,877 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:29,881 p=61592 u=tbj |  TASK [sed mysql port] ****************************************************************************************************************************************************
2017-11-16 17:16:30,525 p=61592 u=tbj |   [WARNING]: Consider using template or lineinfile module rather than running sed

2017-11-16 17:16:30,525 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:30,529 p=61592 u=tbj |  TASK [sed mysql server_id] ***********************************************************************************************************************************************
2017-11-16 17:16:31,140 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:31,144 p=61592 u=tbj |  TASK [sed mysql path] ****************************************************************************************************************************************************
2017-11-16 17:16:31,649 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:31,654 p=61592 u=tbj |  TASK [sed mysql BP] ******************************************************************************************************************************************************
2017-11-16 17:16:32,472 p=61592 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:16:32,476 p=61592 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-16 17:16:33,393 p=61592 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "cd /usr/local/mysql-5.6.38-linux-glibc2.12-x86_64/; ./scripts/mysql_install_db --defaults-file=/opt/mysql/3306/conf/my.cnf --user=mysql", "delta": "0:00:00.284764", "end": "2017-11-16 17:02:30.078230", "failed": true, "rc": 1, "start": "2017-11-16 17:02:29.793466", "stderr": "", "stderr_lines": [], "stdout": "FATAL ERROR: Neither host 'ty-dbtest-102' nor 'localhost' could be looked up with\n/usr/local/mysql56/bin/resolveip\nPlease configure the 'hostname' command to return a correct\nhostname.\nIf you want to solve this at a later stage, restart this script\nwith the --force option", "stdout_lines": ["FATAL ERROR: Neither host 'ty-dbtest-102' nor 'localhost' could be looked up with", "/usr/local/mysql56/bin/resolveip", "Please configure the 'hostname' command to return a correct", "hostname.", "If you want to solve this at a later stage, restart this script", "with the --force option"]}
2017-11-16 17:16:33,394 p=61592 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/main.retry

2017-11-16 17:16:33,394 p=61592 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-16 17:16:33,395 p=61592 u=tbj |  192.168.1.102              : ok=17   changed=11   unreachable=0    failed=1   
2017-11-16 17:18:21,363 p=61760 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-16 17:18:21,427 p=61760 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-16 17:18:23,890 p=61760 u=tbj |  ok: [192.168.1.102]
2017-11-16 17:18:23,894 p=61760 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-16 17:18:24,413 p=61760 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "cd /usr/local/mysql-5.6.38-linux-glibc2.12-x86_64/; ./scripts/mysql_install_db --defaults-file=/opt/mysql/3306/conf/my.cnf --user=mysql", "delta": "0:00:00.057748", "end": "2017-11-16 17:04:21.123390", "failed": true, "rc": 1, "start": "2017-11-16 17:04:21.065642", "stderr": "", "stderr_lines": [], "stdout": "FATAL ERROR: Neither host 'ty-dbtest-102' nor 'localhost' could be looked up with\n/usr/local/mysql56/bin/resolveip\nPlease configure the 'hostname' command to return a correct\nhostname.\nIf you want to solve this at a later stage, restart this script\nwith the --force option", "stdout_lines": ["FATAL ERROR: Neither host 'ty-dbtest-102' nor 'localhost' could be looked up with", "/usr/local/mysql56/bin/resolveip", "Please configure the 'hostname' command to return a correct", "hostname.", "If you want to solve this at a later stage, restart this script", "with the --force option"]}
2017-11-16 17:18:24,415 p=61760 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-16 17:18:24,415 p=61760 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-16 17:18:24,415 p=61760 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-16 17:18:35,866 p=61792 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-16 17:18:35,916 p=61792 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-16 17:18:37,203 p=61792 u=tbj |  ok: [192.168.1.102]
2017-11-16 17:18:37,206 p=61792 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-16 17:18:54,506 p=61792 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:18:54,510 p=61792 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-16 17:18:55,628 p=61792 u=tbj |  changed: [192.168.1.102]
2017-11-16 17:18:55,630 p=61792 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-16 17:18:55,630 p=61792 u=tbj |  192.168.1.102              : ok=3    changed=2    unreachable=0    failed=0   
2017-11-20 10:41:27,596 p=65528 u=tbj |  ERROR! this task 'debug' has extra params, which is only allowed in the following modules: command, win_command, shell, win_shell, script, include, include_vars, add_host, group_by, set_fact, raw, meta

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here

2017-11-20 10:41:46,294 p=65542 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-20 10:41:46,613 p=65542 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-20 10:41:49,963 p=65542 u=tbj |  ok: [192.168.1.102]
2017-11-20 10:41:49,972 p=65542 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-20 10:41:50,774 p=65542 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "[ ! -e /opt/mysql/3306 ] && echo \"OK\"", "delta": "0:00:00.007137", "end": "2017-11-20 10:27:36.682589", "failed": true, "failed_when_result": true, "rc": 1, "start": "2017-11-20 10:27:36.675452", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-20 10:41:50,775 p=65542 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-20 10:41:50,775 p=65542 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-20 10:41:50,776 p=65542 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-20 10:41:58,426 p=65573 u=tbj |  ERROR! this task 'debug' has extra params, which is only allowed in the following modules: command, win_command, shell, win_shell, script, include, include_vars, add_host, group_by, set_fact, raw, meta

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here

2017-11-20 10:42:08,752 p=65587 u=tbj |  ERROR! this task 'debug' has extra params, which is only allowed in the following modules: command, win_command, shell, win_shell, script, include, include_vars, add_host, group_by, set_fact, raw, meta

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here

2017-11-20 10:42:20,679 p=65601 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-20 10:42:20,755 p=65601 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-20 10:42:21,924 p=65601 u=tbj |  ok: [192.168.1.102]
2017-11-20 10:42:21,929 p=65601 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-20 10:42:22,456 p=65601 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "[ ! -e /opt/mysql/3306 ] && echo \"OK\"", "delta": "0:00:00.003610", "end": "2017-11-20 10:28:08.377592", "failed": true, "failed_when_result": true, "rc": 1, "start": "2017-11-20 10:28:08.373982", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-20 10:42:22,461 p=65601 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-20 10:42:22,461 p=65601 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-20 10:42:22,462 p=65601 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-20 10:43:23,065 p=65663 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-20 10:43:23,118 p=65663 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-20 10:43:25,521 p=65663 u=tbj |  ok: [192.168.1.102]
2017-11-20 10:43:25,525 p=65663 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-20 10:43:26,221 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:26,225 p=65663 u=tbj |  TASK [mkdir] *************************************************************************************************************************************************************
2017-11-20 10:43:26,860 p=65663 u=tbj |   [WARNING]: Consider using file module with state=directory rather than running mkdir

2017-11-20 10:43:26,860 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:26,864 p=65663 u=tbj |  TASK [chown] *************************************************************************************************************************************************************
2017-11-20 10:43:27,421 p=65663 u=tbj |   [WARNING]: Consider using file module with owner rather than running chown

2017-11-20 10:43:27,422 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:27,429 p=65663 u=tbj |  TASK [copy config file] **************************************************************************************************************************************************
2017-11-20 10:43:29,846 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:29,850 p=65663 u=tbj |  TASK [sed mysql port] ****************************************************************************************************************************************************
2017-11-20 10:43:30,207 p=65663 u=tbj |   [WARNING]: Consider using template or lineinfile module rather than running sed

2017-11-20 10:43:30,207 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:30,211 p=65663 u=tbj |  TASK [sed mysql server_id] ***********************************************************************************************************************************************
2017-11-20 10:43:30,891 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:30,895 p=65663 u=tbj |  TASK [sed mysql path] ****************************************************************************************************************************************************
2017-11-20 10:43:31,614 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:31,618 p=65663 u=tbj |  TASK [sed mysql base path] ***********************************************************************************************************************************************
2017-11-20 10:43:32,233 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:32,237 p=65663 u=tbj |  TASK [sed mysql BP] ******************************************************************************************************************************************************
2017-11-20 10:43:32,885 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:32,888 p=65663 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-20 10:43:50,047 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:50,052 p=65663 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-20 10:43:51,094 p=65663 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:43:51,100 p=65663 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-20 10:43:51,140 p=65663 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"failed": true, "msg": "template error while templating string: expected token 'end of print statement', got 'successus'. String: {{port successus}}"}
2017-11-20 10:43:51,142 p=65663 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-20 10:43:51,142 p=65663 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-20 10:43:51,142 p=65663 u=tbj |  192.168.1.102              : ok=12   changed=11   unreachable=0    failed=1   
2017-11-20 10:52:59,606 p=65819 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-20 10:52:59,679 p=65819 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-20 10:53:02,515 p=65819 u=tbj |  ok: [192.168.1.102]
2017-11-20 10:53:02,519 p=65819 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-20 10:53:02,544 p=65819 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"failed": true, "msg": "The conditional check 'result|success' failed. The error was: |failed expects a dictionary\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 46, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: '启动数据库'\n     ^ here\n"}
2017-11-20 10:53:02,546 p=65819 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-20 10:53:02,547 p=65819 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-20 10:53:02,547 p=65819 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-20 10:55:07,084 p=65848 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-20 10:55:07,152 p=65848 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-20 10:55:09,513 p=65848 u=tbj |  ok: [192.168.1.102]
2017-11-20 10:55:09,518 p=65848 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-20 10:55:10,533 p=65848 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:55:10,536 p=65848 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-20 10:55:10,536 p=65848 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=0   
2017-11-20 10:56:38,908 p=65887 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-20 10:56:38,979 p=65887 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-20 10:56:41,507 p=65887 u=tbj |  ok: [192.168.1.102]
2017-11-20 10:56:41,513 p=65887 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-20 10:56:44,058 p=65887 u=tbj |  changed: [192.168.1.102]
2017-11-20 10:56:44,060 p=65887 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-20 10:56:44,060 p=65887 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=0   
2017-11-21 17:08:09,750 p=2495 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:08:09,823 p=2495 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:08:12,653 p=2495 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:08:12,657 p=2495 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:08:14,283 p=2495 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:08:14,288 p=2495 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:08:14,329 p=2495 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"failed": true, "msg": "template error while templating string: expected token 'end of print statement', got 'successus'. String: {{port successus}}"}
2017-11-21 17:08:14,331 p=2495 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:08:14,331 p=2495 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:08:14,331 p=2495 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=1   
2017-11-21 17:08:54,488 p=2527 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:08:54,540 p=2527 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:08:56,152 p=2527 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:08:56,156 p=2527 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:08:57,499 p=2527 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:08:57,504 p=2527 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:08:57,541 p=2527 u=tbj |  ok: [192.168.1.102] => {
    "port": "VARIABLE IS NOT DEFINED!"
}
2017-11-21 17:08:57,543 p=2527 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:08:57,544 p=2527 u=tbj |  192.168.1.102              : ok=3    changed=1    unreachable=0    failed=0   
2017-11-21 17:09:38,912 p=2573 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:09:38,967 p=2573 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:09:40,413 p=2573 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:09:40,417 p=2573 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:09:41,943 p=2573 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:09:41,948 p=2573 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:09:41,980 p=2573 u=tbj |  ok: [192.168.1.102] => {
    "mysql_port": 3306
}
2017-11-21 17:09:41,982 p=2573 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:09:41,982 p=2573 u=tbj |  192.168.1.102              : ok=3    changed=1    unreachable=0    failed=0   
2017-11-21 17:10:02,127 p=2602 u=tbj |  ERROR! this task 'debug' has extra params, which is only allowed in the following modules: command, win_command, shell, win_shell, script, include, include_vars, add_host, group_by, set_fact, raw, meta

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here

2017-11-21 17:10:07,912 p=2616 u=tbj |  ERROR! this task 'debug' has extra params, which is only allowed in the following modules: command, win_command, shell, win_shell, script, include, include_vars, add_host, group_by, set_fact, raw, meta

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here

2017-11-21 17:10:16,664 p=2638 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:10:16,716 p=2638 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:10:18,203 p=2638 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:10:18,206 p=2638 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:10:19,831 p=2638 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:10:19,836 p=2638 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:10:19,871 p=2638 u=tbj |  ok: [192.168.1.102] => {
    "mysql_port": 3306
}
2017-11-21 17:10:19,873 p=2638 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:10:19,873 p=2638 u=tbj |  192.168.1.102              : ok=3    changed=1    unreachable=0    failed=0   
2017-11-21 17:10:34,018 p=2667 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:10:34,071 p=2667 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:10:35,611 p=2667 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:10:35,616 p=2667 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:10:37,312 p=2667 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:10:37,316 p=2667 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:10:37,356 p=2667 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"failed": true, "msg": "template error while templating string: expected token 'end of print statement', got 'aaa'. String: {{mysql_port aaa}}"}
2017-11-21 17:10:37,358 p=2667 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:10:37,358 p=2667 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:10:37,359 p=2667 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=1   
2017-11-21 17:10:55,374 p=2696 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:10:55,429 p=2696 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:10:56,703 p=2696 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:10:56,707 p=2696 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:10:58,299 p=2696 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:10:58,304 p=2696 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:10:58,339 p=2696 u=tbj |  ok: [192.168.1.102] => {
    "\"mysql_port\",aha": "('mysql_port', Undefined)"
}
2017-11-21 17:10:58,341 p=2696 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:10:58,341 p=2696 u=tbj |  192.168.1.102              : ok=3    changed=1    unreachable=0    failed=0   
2017-11-21 17:13:34,033 p=2758 u=tbj |  ERROR! 'msg' is not a valid attribute for a Task

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here

2017-11-21 17:13:39,680 p=2772 u=tbj |  ERROR! 'msg' is not a valid attribute for a Task

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 53, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'print'
     ^ here

2017-11-21 17:14:06,131 p=2789 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:14:06,185 p=2789 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:14:08,773 p=2789 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:14:08,778 p=2789 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:14:10,327 p=2789 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:14:10,334 p=2789 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:14:10,370 p=2789 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": false, "failed": true, "msg": "'msg' and 'var' are incompatible options"}
2017-11-21 17:14:10,372 p=2789 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:14:10,372 p=2789 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:14:10,372 p=2789 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=1   
2017-11-21 17:14:55,998 p=2824 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:14:56,055 p=2824 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:14:57,561 p=2824 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:14:57,565 p=2824 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:14:58,860 p=2824 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:14:58,865 p=2824 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:14:58,905 p=2824 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": false, "failed": true, "msg": "'msg' and 'var' are incompatible options"}
2017-11-21 17:14:58,907 p=2824 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:14:58,907 p=2824 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:14:58,907 p=2824 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=1   
2017-11-21 17:15:19,969 p=2853 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:15:20,019 p=2853 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:15:21,567 p=2853 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:15:21,571 p=2853 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:15:22,861 p=2853 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:15:22,866 p=2853 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:15:22,899 p=2853 u=tbj |  ok: [192.168.1.102] => {
    "mysql_port": 3306
}
2017-11-21 17:15:22,903 p=2853 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:15:22,904 p=2853 u=tbj |  192.168.1.102              : ok=3    changed=1    unreachable=0    failed=0   
2017-11-21 17:15:31,167 p=2882 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:15:31,222 p=2882 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:15:32,597 p=2882 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:15:32,601 p=2882 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:15:33,907 p=2882 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:15:33,912 p=2882 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:15:33,945 p=2882 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": false, "failed": true, "msg": "'msg' and 'var' are incompatible options"}
2017-11-21 17:15:33,947 p=2882 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:15:33,947 p=2882 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:15:33,947 p=2882 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=1   
2017-11-21 17:17:20,531 p=2917 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:17:20,590 p=2917 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:17:22,771 p=2917 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:17:22,775 p=2917 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:17:24,319 p=2917 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:17:24,324 p=2917 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:17:24,367 p=2917 u=tbj |  ok: [192.168.1.102] => {
    "msg": "halle 3306"
}
2017-11-21 17:17:24,370 p=2917 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:17:24,371 p=2917 u=tbj |  192.168.1.102              : ok=3    changed=1    unreachable=0    failed=0   
2017-11-21 17:25:29,957 p=3010 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:25:30,008 p=3010 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:25:32,274 p=3010 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:25:32,281 p=3010 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:25:33,897 p=3010 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:25:33,902 p=3010 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:25:33,928 p=3010 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"failed": true, "msg": "The conditional check 'result|success' failed. The error was: |failed expects a dictionary\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 57, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'print'\n     ^ here\n"}
2017-11-21 17:25:33,930 p=3010 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:25:33,930 p=3010 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:25:33,930 p=3010 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=1   
2017-11-21 17:26:30,649 p=3043 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:26:30,700 p=3043 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:26:32,136 p=3043 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:26:32,141 p=3043 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:26:33,481 p=3043 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:26:33,485 p=3043 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:26:33,510 p=3043 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"failed": true, "msg": "The conditional check 'result|success' failed. The error was: |failed expects a dictionary\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 57, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'print'\n     ^ here\n"}
2017-11-21 17:26:33,512 p=3043 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:26:33,512 p=3043 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:26:33,512 p=3043 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=1   
2017-11-21 17:26:54,670 p=3072 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:26:54,723 p=3072 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:26:56,239 p=3072 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:26:56,243 p=3072 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:26:56,948 p=3072 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:26:56,952 p=3072 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:26:56,991 p=3072 u=tbj |  ok: [192.168.1.102] => {
    "msg": "success 3306"
}
2017-11-21 17:26:56,993 p=3072 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:26:56,993 p=3072 u=tbj |  192.168.1.102              : ok=3    changed=1    unreachable=0    failed=0   
2017-11-21 17:27:55,143 p=3101 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:27:55,198 p=3101 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:27:56,758 p=3101 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:27:56,762 p=3101 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:27:57,366 p=3101 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "netstat -nltp|grep 3306", "delta": "0:00:00.023868", "end": "2017-11-21 17:13:40.549345", "failed": true, "rc": 1, "start": "2017-11-21 17:13:40.525477", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-21 17:27:57,368 p=3101 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:27:57,368 p=3101 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:27:57,369 p=3101 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-21 17:28:02,077 p=3130 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:28:02,130 p=3130 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:28:03,622 p=3130 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:28:03,626 p=3130 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:28:04,114 p=3130 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "netstat -nltp|grep 3306", "delta": "0:00:00.012863", "end": "2017-11-21 17:13:47.262391", "failed": true, "rc": 1, "start": "2017-11-21 17:13:47.249528", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-21 17:28:04,116 p=3130 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:28:04,116 p=3130 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:28:04,117 p=3130 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-21 17:28:48,134 p=3165 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:28:48,191 p=3165 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:28:49,703 p=3165 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:28:49,707 p=3165 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:28:50,311 p=3165 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "netstat -nltp|grep 3306", "delta": "0:00:00.024990", "end": "2017-11-21 17:14:33.491798", "failed": true, "rc": 1, "start": "2017-11-21 17:14:33.466808", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-21 17:28:50,311 p=3165 u=tbj |  ...ignoring
2017-11-21 17:28:50,315 p=3165 u=tbj |  TASK [print] *************************************************************************************************************************************************************
2017-11-21 17:28:50,336 p=3165 u=tbj |  skipping: [192.168.1.102]
2017-11-21 17:28:50,338 p=3165 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:28:50,338 p=3165 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=0   
2017-11-21 17:29:47,022 p=3194 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:29:47,071 p=3194 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:29:48,485 p=3194 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:29:48,489 p=3194 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:29:49,010 p=3194 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "netstat -nltp|grep 3306", "delta": "0:00:00.017085", "end": "2017-11-21 17:15:32.211789", "failed": true, "rc": 1, "start": "2017-11-21 17:15:32.194704", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-21 17:29:49,010 p=3194 u=tbj |  ...ignoring
2017-11-21 17:29:49,016 p=3194 u=tbj |  TASK [success] ***********************************************************************************************************************************************************
2017-11-21 17:29:49,041 p=3194 u=tbj |  skipping: [192.168.1.102]
2017-11-21 17:29:49,045 p=3194 u=tbj |  TASK [failed] ************************************************************************************************************************************************************
2017-11-21 17:29:49,072 p=3194 u=tbj |  skipping: [192.168.1.102]
2017-11-21 17:29:49,074 p=3194 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:29:49,074 p=3194 u=tbj |  192.168.1.102              : ok=2    changed=1    unreachable=0    failed=0   
2017-11-21 17:30:06,315 p=3227 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:30:06,367 p=3227 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:30:07,841 p=3227 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:30:07,845 p=3227 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:30:08,447 p=3227 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "netstat -nltp|grep 3306", "delta": "0:00:00.024342", "end": "2017-11-21 17:15:51.634822", "failed": true, "rc": 1, "start": "2017-11-21 17:15:51.610480", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-21 17:30:08,448 p=3227 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:30:08,449 p=3227 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:30:08,449 p=3227 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-21 17:33:26,067 p=3264 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:33:26,134 p=3264 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:33:28,245 p=3264 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:33:28,248 p=3264 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:33:28,928 p=3264 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "netstat -nltp|grep 3306", "delta": "0:00:00.092894", "end": "2017-11-21 17:19:12.105519", "failed": true, "rc": 1, "start": "2017-11-21 17:19:12.012625", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-21 17:33:28,929 p=3264 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-21 17:33:28,930 p=3264 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:33:28,930 p=3264 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-21 17:33:48,742 p=3295 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:33:48,791 p=3295 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:33:50,262 p=3295 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:33:50,266 p=3295 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:33:50,869 p=3295 u=tbj |  fatal: [192.168.1.102]: FAILED! => {"changed": true, "cmd": "netstat -nltp|grep 3306", "delta": "0:00:00.024730", "end": "2017-11-21 17:19:34.038501", "failed": true, "rc": 1, "start": "2017-11-21 17:19:34.013771", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-21 17:33:50,870 p=3295 u=tbj |  ...ignoring
2017-11-21 17:33:50,875 p=3295 u=tbj |  TASK [success] ***********************************************************************************************************************************************************
2017-11-21 17:33:50,897 p=3295 u=tbj |  skipping: [192.168.1.102]
2017-11-21 17:33:50,901 p=3295 u=tbj |  TASK [failed] ************************************************************************************************************************************************************
2017-11-21 17:33:50,937 p=3295 u=tbj |  ok: [192.168.1.102] => {
    "msg": "failed 3306"
}
2017-11-21 17:33:50,939 p=3295 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:33:50,939 p=3295 u=tbj |  192.168.1.102              : ok=3    changed=1    unreachable=0    failed=0   
2017-11-21 17:41:06,967 p=3330 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-21 17:41:07,018 p=3330 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-21 17:41:09,170 p=3330 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:41:09,174 p=3330 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-21 17:41:09,779 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:09,783 p=3330 u=tbj |  TASK [mkdir] *************************************************************************************************************************************************************
2017-11-21 17:41:10,391 p=3330 u=tbj |   [WARNING]: Consider using file module with state=directory rather than running mkdir

2017-11-21 17:41:10,391 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:10,395 p=3330 u=tbj |  TASK [chown] *************************************************************************************************************************************************************
2017-11-21 17:41:11,004 p=3330 u=tbj |   [WARNING]: Consider using file module with owner rather than running chown

2017-11-21 17:41:11,004 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:11,010 p=3330 u=tbj |  TASK [copy config file] **************************************************************************************************************************************************
2017-11-21 17:41:12,991 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:12,996 p=3330 u=tbj |  TASK [sed mysql port] ****************************************************************************************************************************************************
2017-11-21 17:41:13,564 p=3330 u=tbj |   [WARNING]: Consider using template or lineinfile module rather than running sed

2017-11-21 17:41:13,565 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:13,569 p=3330 u=tbj |  TASK [sed mysql server_id] ***********************************************************************************************************************************************
2017-11-21 17:41:14,180 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:14,185 p=3330 u=tbj |  TASK [sed mysql path] ****************************************************************************************************************************************************
2017-11-21 17:41:14,795 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:14,799 p=3330 u=tbj |  TASK [sed mysql base path] ***********************************************************************************************************************************************
2017-11-21 17:41:15,408 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:15,412 p=3330 u=tbj |  TASK [sed mysql BP] ******************************************************************************************************************************************************
2017-11-21 17:41:15,964 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:15,969 p=3330 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-21 17:41:35,482 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:35,486 p=3330 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-21 17:41:37,026 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:37,034 p=3330 u=tbj |  TASK [timed wait] ********************************************************************************************************************************************************
2017-11-21 17:41:37,059 p=3330 u=tbj |  Pausing for 10 seconds
2017-11-21 17:41:37,059 p=3330 u=tbj |  (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2017-11-21 17:41:47,064 p=3330 u=tbj |  ok: [192.168.1.102]
2017-11-21 17:41:47,069 p=3330 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-21 17:41:47,768 p=3330 u=tbj |  changed: [192.168.1.102]
2017-11-21 17:41:47,772 p=3330 u=tbj |  TASK [success] ***********************************************************************************************************************************************************
2017-11-21 17:41:47,806 p=3330 u=tbj |  ok: [192.168.1.102] => {
    "msg": "success 3306"
}
2017-11-21 17:41:47,810 p=3330 u=tbj |  TASK [failed] ************************************************************************************************************************************************************
2017-11-21 17:41:47,833 p=3330 u=tbj |  skipping: [192.168.1.102]
2017-11-21 17:41:47,836 p=3330 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-21 17:41:47,836 p=3330 u=tbj |  192.168.1.102              : ok=15   changed=12   unreachable=0    failed=0   
2017-11-22 11:48:45,463 p=4092 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 11:48:45,545 p=4092 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 11:48:48,015 p=4092 u=tbj |  ok: [192.168.1.102]
2017-11-22 11:48:48,021 p=4092 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 11:48:48,060 p=4092 u=tbj |  ok: [192.168.1.102] => {
    "msg": "hah master"
}
2017-11-22 11:48:48,062 p=4092 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 11:48:48,062 p=4092 u=tbj |  192.168.1.102              : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 11:48:56,167 p=4117 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 11:48:56,220 p=4117 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 11:48:57,535 p=4117 u=tbj |  ok: [192.168.1.102]
2017-11-22 11:48:57,539 p=4117 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 11:48:57,564 p=4117 u=tbj |  skipping: [192.168.1.102]
2017-11-22 11:48:57,566 p=4117 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 11:48:57,566 p=4117 u=tbj |  192.168.1.102              : ok=1    changed=0    unreachable=0    failed=0   
2017-11-22 16:11:44,314 p=4547 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:11:44,388 p=4547 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:11:46,369 p=4547 u=tbj |  ok: [master]
2017-11-22 16:11:46,374 p=4547 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:11:46,395 p=4547 u=tbj |  fatal: [master]: FAILED! => {"failed": true, "msg": "The conditional check 'role == \"master\"' failed. The error was: error while evaluating conditional (role == \"master\"): 'role' is undefined\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 7, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'check'\n     ^ here\n"}
2017-11-22 16:11:46,398 p=4547 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-22 16:11:46,399 p=4547 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:11:46,400 p=4547 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-22 16:12:11,803 p=4572 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:12:11,856 p=4572 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:12:13,299 p=4572 u=tbj |  ok: [master]
2017-11-22 16:12:13,305 p=4572 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:12:13,336 p=4572 u=tbj |  fatal: [master]: FAILED! => {"failed": true, "msg": "the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'role' is undefined\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 7, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'check'\n     ^ here\n"}
2017-11-22 16:12:13,338 p=4572 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-22 16:12:13,338 p=4572 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:12:13,338 p=4572 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-22 16:13:31,301 p=4594 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:13:31,353 p=4594 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:13:33,381 p=4594 u=tbj |  ok: [master]
2017-11-22 16:13:33,387 p=4594 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:13:33,413 p=4594 u=tbj |  fatal: [master]: FAILED! => {"failed": true, "msg": "the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'role' is undefined\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 7, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'check'\n     ^ here\n"}
2017-11-22 16:13:33,419 p=4594 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-22 16:13:33,420 p=4594 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:13:33,420 p=4594 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-22 16:14:12,472 p=4619 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:14:12,529 p=4619 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:14:13,832 p=4619 u=tbj |  ok: [master]
2017-11-22 16:14:13,836 p=4619 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:14:13,857 p=4619 u=tbj |  fatal: [master]: FAILED! => {"failed": true, "msg": "the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'node' is undefined\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 7, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'check'\n     ^ here\n"}
2017-11-22 16:14:13,860 p=4619 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-22 16:14:13,860 p=4619 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:14:13,860 p=4619 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-22 16:18:40,400 p=4683 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:18:40,468 p=4683 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:18:42,442 p=4683 u=tbj |  ok: [master]
2017-11-22 16:18:42,446 p=4683 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:18:42,474 p=4683 u=tbj |  fatal: [master]: FAILED! => {"failed": true, "msg": "template error while templating string: Unexpected end of template. Jinja was looking for the following tags: 'endfor' or 'else'. The innermost block that needs to be closed is 'for'.. String: hah {% for node in groups.mysql %}{{ hostvars[node].ansible_default_ipv4.address }}"}
2017-11-22 16:18:42,476 p=4683 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-22 16:18:42,477 p=4683 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:18:42,477 p=4683 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-22 16:19:39,507 p=4708 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 9, column 14, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

     debug:
       msg: {% for node in groups.mysql %}{{ hostvars[node].ansible_default_ipv4.address }}
             ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2017-11-22 16:20:09,271 p=4723 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 9, column 54, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

     debug:
       msg: { hostvars.ansible_default_ipv4.address }}
                                                     ^ here

2017-11-22 16:20:17,387 p=4737 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 9, column 14, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

     debug:
       msg: {{ hostvars.ansible_default_ipv4.address }}
             ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2017-11-22 16:20:18,712 p=4751 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 9, column 14, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

     debug:
       msg: {{ hostvars.ansible_default_ipv4.address }}
             ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2017-11-22 16:35:37,796 p=4812 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 9, column 14, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

     debug:
       msg: {{ hosts }}
             ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2017-11-22 16:37:46,082 p=4826 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 9, column 14, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

     debug:
       msg: {{ ansible_ssh_host }}
             ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2017-11-22 16:38:04,959 p=4847 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:38:05,015 p=4847 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:38:07,707 p=4847 u=tbj |  ok: [master]
2017-11-22 16:38:07,716 p=4847 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:38:07,749 p=4847 u=tbj |  ok: [master] => {
    "msg": "ansible_ssh_host"
}
2017-11-22 16:38:07,751 p=4847 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:38:07,751 p=4847 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:41:55,102 p=4872 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 9, column 15, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

     debug:
       msg:  {{ serverid }}
              ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2017-11-22 16:42:34,882 p=4886 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 9, column 15, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

     debug:
       msg:  {{ mysql_port }}
              ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2017-11-22 16:42:41,412 p=4900 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:42:41,462 p=4900 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:42:43,495 p=4900 u=tbj |  ok: [master]
2017-11-22 16:42:43,502 p=4900 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:42:43,541 p=4900 u=tbj |  ok: [master] => {
    "msg": 3306
}
2017-11-22 16:42:43,543 p=4900 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:42:43,543 p=4900 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:45:30,827 p=4926 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:45:30,882 p=4926 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:45:33,066 p=4926 u=tbj |  ok: [master]
2017-11-22 16:45:33,070 p=4926 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:45:33,102 p=4926 u=tbj |  ok: [master] => {
    "msg": "192.168.1.102"
}
2017-11-22 16:45:33,104 p=4926 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:45:33,104 p=4926 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:48:02,517 p=4952 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:48:02,566 p=4952 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:48:04,320 p=4952 u=tbj |  ok: [slave1]
2017-11-22 16:48:04,826 p=4952 u=tbj |  ok: [master]
2017-11-22 16:48:04,832 p=4952 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:48:04,872 p=4952 u=tbj |  ok: [master] => {
    "msg": "192.168.1.102"
}
2017-11-22 16:48:04,872 p=4952 u=tbj |  skipping: [slave1]
2017-11-22 16:48:04,876 p=4952 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:48:04,900 p=4952 u=tbj |  skipping: [master]
2017-11-22 16:48:04,914 p=4952 u=tbj |  fatal: [slave1]: FAILED! => {"failed": true, "msg": "the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'port' is undefined\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 13, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'check'\n     ^ here\n"}
2017-11-22 16:48:04,916 p=4952 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-22 16:48:04,917 p=4952 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:48:04,917 p=4952 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:48:04,917 p=4952 u=tbj |  slave1                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-22 16:48:19,710 p=4990 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:48:19,760 p=4990 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:48:20,908 p=4990 u=tbj |  ok: [slave1]
2017-11-22 16:48:21,314 p=4990 u=tbj |  ok: [master]
2017-11-22 16:48:21,320 p=4990 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:48:21,353 p=4990 u=tbj |  skipping: [slave1]
2017-11-22 16:48:21,355 p=4990 u=tbj |  ok: [master] => {
    "msg": "192.168.1.102"
}
2017-11-22 16:48:21,361 p=4990 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:48:21,384 p=4990 u=tbj |  skipping: [master]
2017-11-22 16:48:21,406 p=4990 u=tbj |  ok: [slave1] => {
    "msg": "3307,192.168.1.101"
}
2017-11-22 16:48:21,409 p=4990 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:48:21,410 p=4990 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:48:21,410 p=4990 u=tbj |  slave1                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:48:59,163 p=5022 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:48:59,214 p=5022 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:49:00,744 p=5022 u=tbj |  ok: [master]
2017-11-22 16:49:00,976 p=5022 u=tbj |  ok: [slave1]
2017-11-22 16:49:00,979 p=5022 u=tbj |  ok: [slave2]
2017-11-22 16:49:00,985 p=5022 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:49:01,025 p=5022 u=tbj |  skipping: [slave1]
2017-11-22 16:49:01,028 p=5022 u=tbj |  ok: [master] => {
    "msg": "192.168.1.102"
}
2017-11-22 16:49:01,036 p=5022 u=tbj |  skipping: [slave2]
2017-11-22 16:49:01,044 p=5022 u=tbj |  TASK [check2] ************************************************************************************************************************************************************
2017-11-22 16:49:01,072 p=5022 u=tbj |  skipping: [master]
2017-11-22 16:49:01,090 p=5022 u=tbj |  ok: [slave1] => {
    "msg": "3306,192.168.1.101"
}
2017-11-22 16:49:01,105 p=5022 u=tbj |  ok: [slave2] => {
    "msg": "3307,192.168.1.101"
}
2017-11-22 16:49:01,109 p=5022 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:49:01,110 p=5022 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:49:01,110 p=5022 u=tbj |  slave1                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:49:01,110 p=5022 u=tbj |  slave2                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:49:52,391 p=5063 u=tbj |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.yaml': line 7, column 10, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'check'
         ^ here

2017-11-22 16:50:07,932 p=5077 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:50:07,980 p=5077 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:50:10,071 p=5077 u=tbj |  ok: [master]
2017-11-22 16:50:10,075 p=5077 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:50:10,105 p=5077 u=tbj |  ok: [master] => {
    "msg": "192.168.1.102"
}
2017-11-22 16:50:10,109 p=5077 u=tbj |  TASK [check2] ************************************************************************************************************************************************************
2017-11-22 16:50:10,131 p=5077 u=tbj |  skipping: [master]
2017-11-22 16:50:10,135 p=5077 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:50:10,138 p=5077 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:50:11,638 p=5077 u=tbj |  ok: [slave1]
2017-11-22 16:50:11,643 p=5077 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:50:11,667 p=5077 u=tbj |  skipping: [slave1]
2017-11-22 16:50:11,672 p=5077 u=tbj |  TASK [check2] ************************************************************************************************************************************************************
2017-11-22 16:50:11,705 p=5077 u=tbj |  ok: [slave1] => {
    "msg": "3306,192.168.1.101"
}
2017-11-22 16:50:11,708 p=5077 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 16:50:11,712 p=5077 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 16:50:12,634 p=5077 u=tbj |  ok: [slave2]
2017-11-22 16:50:12,638 p=5077 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 16:50:12,662 p=5077 u=tbj |  skipping: [slave2]
2017-11-22 16:50:12,666 p=5077 u=tbj |  TASK [check2] ************************************************************************************************************************************************************
2017-11-22 16:50:12,698 p=5077 u=tbj |  ok: [slave2] => {
    "msg": "3307,192.168.1.101"
}
2017-11-22 16:50:12,700 p=5077 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 16:50:12,700 p=5077 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:50:12,701 p=5077 u=tbj |  slave1                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 16:50:12,701 p=5077 u=tbj |  slave2                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 18:12:14,811 p=5537 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 18:12:14,882 p=5537 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 18:12:17,172 p=5537 u=tbj |  ok: [master]
2017-11-22 18:12:17,178 p=5537 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 18:12:17,210 p=5537 u=tbj |  ok: [master] => {
    "msg": "192.168.1.102,192.168.1.102"
}
2017-11-22 18:12:17,213 p=5537 u=tbj |  TASK [check2] ************************************************************************************************************************************************************
2017-11-22 18:12:17,236 p=5537 u=tbj |  skipping: [master]
2017-11-22 18:12:17,242 p=5537 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 18:12:17,247 p=5537 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 18:12:18,811 p=5537 u=tbj |  ok: [slave1]
2017-11-22 18:12:18,816 p=5537 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 18:12:18,837 p=5537 u=tbj |  skipping: [slave1]
2017-11-22 18:12:18,842 p=5537 u=tbj |  TASK [check2] ************************************************************************************************************************************************************
2017-11-22 18:12:18,878 p=5537 u=tbj |  ok: [slave1] => {
    "msg": "3306,192.168.1.101,192.168.1.102"
}
2017-11-22 18:12:18,879 p=5537 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 18:12:18,880 p=5537 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 18:12:18,880 p=5537 u=tbj |  slave1                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 18:12:38,288 p=5575 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 18:12:38,338 p=5575 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 18:12:38,742 p=5575 u=tbj |  fatal: [master_ip=192.168.1.102]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname master_ip=192.168.1.102: nodename nor servname provided, or not known\r\n", "unreachable": true}
2017-11-22 18:12:38,744 p=5575 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-22 18:12:38,744 p=5575 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 18:12:38,744 p=5575 u=tbj |  master_ip=192.168.1.102    : ok=0    changed=0    unreachable=1    failed=0   
2017-11-22 18:12:51,885 p=5591 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 18:12:51,933 p=5591 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 18:12:53,318 p=5591 u=tbj |  ok: [master]
2017-11-22 18:12:53,322 p=5591 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 18:12:53,353 p=5591 u=tbj |  ok: [master] => {
    "msg": "192.168.1.102,192.168.1.102"
}
2017-11-22 18:12:53,358 p=5591 u=tbj |  TASK [check2] ************************************************************************************************************************************************************
2017-11-22 18:12:53,383 p=5591 u=tbj |  skipping: [master]
2017-11-22 18:12:53,387 p=5591 u=tbj |  PLAY [config mysql] ******************************************************************************************************************************************************
2017-11-22 18:12:53,391 p=5591 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-22 18:12:54,343 p=5591 u=tbj |  ok: [slave2]
2017-11-22 18:12:54,347 p=5591 u=tbj |  TASK [check] *************************************************************************************************************************************************************
2017-11-22 18:12:54,368 p=5591 u=tbj |  skipping: [slave2]
2017-11-22 18:12:54,372 p=5591 u=tbj |  TASK [check2] ************************************************************************************************************************************************************
2017-11-22 18:12:54,406 p=5591 u=tbj |  ok: [slave2] => {
    "msg": "3307,192.168.1.101,192.168.1.102"
}
2017-11-22 18:12:54,408 p=5591 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-22 18:12:54,408 p=5591 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 18:12:54,408 p=5591 u=tbj |  slave2                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-28 11:03:10,947 p=33526 u=tbj |  ERROR! Attempted to read "./hosts" as YAML: Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/hosts': line 2, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

[nginx]
[nginx:vars]
      ^ here

Attempted to read "./hosts" as ini file: ./hosts:14: Expected key=value, got: flush privileges; 
2017-11-28 11:03:39,710 p=33539 u=tbj |  ERROR! Attempted to read "./hosts" as YAML: Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/hosts': line 2, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

[nginx]
[nginx:vars]
      ^ here

Attempted to read "./hosts" as ini file: ./hosts:14: Expected key=value, got: flush privileges; 
2017-11-28 11:03:56,435 p=33552 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:03:56,520 p=33552 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:03:58,568 p=33552 u=tbj |  ok: [master]
2017-11-28 11:03:58,572 p=33552 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:03:59,275 p=33552 u=tbj |  changed: [master]
2017-11-28 11:03:59,277 p=33552 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:03:59,278 p=33552 u=tbj |  master                     : ok=2    changed=1    unreachable=0    failed=0   
2017-11-28 11:04:39,997 p=33583 u=tbj |  ERROR! conflicting action statements: debug, shell

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 77, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'execute sql'
     ^ here


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 77, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'execute sql'
     ^ here

2017-11-28 11:04:57,194 p=33597 u=tbj |  ERROR! conflicting action statements: debug, shell

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 77, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'execute sql'
     ^ here


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 77, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'execute sql'
     ^ here

2017-11-28 11:05:22,354 p=33611 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:05:22,418 p=33611 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:05:24,775 p=33611 u=tbj |  ok: [master]
2017-11-28 11:05:24,781 p=33611 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:05:24,815 p=33611 u=tbj |  ok: [master] => {
    "msg": "delete from mysql.user where host!='127.0.0.1' and user!='root';"
}
2017-11-28 11:05:24,818 p=33611 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:05:24,818 p=33611 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-28 11:06:14,590 p=33636 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:06:14,647 p=33636 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:06:16,267 p=33636 u=tbj |  ok: [master]
2017-11-28 11:06:16,271 p=33636 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:06:16,302 p=33636 u=tbj |  ok: [master] => {
    "msg": ""
}
2017-11-28 11:06:16,304 p=33636 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:06:16,305 p=33636 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-28 11:06:34,515 p=33658 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:06:34,566 p=33658 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:06:36,146 p=33658 u=tbj |  ok: [master]
2017-11-28 11:06:36,155 p=33658 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:06:36,194 p=33658 u=tbj |  ok: [master] => {
    "msg": "delete from mysql.user where host!='127.0.0.1' and user!='root';"
}
2017-11-28 11:06:36,199 p=33658 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:06:36,199 p=33658 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-28 11:06:45,680 p=33680 u=tbj |  ERROR! Attempted to read "./hosts" as YAML: Syntax Error while loading YAML.


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/hosts': line 2, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

[nginx]
[nginx:vars]
      ^ here

Attempted to read "./hosts" as ini file: ./hosts:13: Expected key=value, got: flush privileges; 
2017-11-28 11:07:00,965 p=33693 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:07:01,019 p=33693 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:07:02,658 p=33693 u=tbj |  ok: [master]
2017-11-28 11:07:02,662 p=33693 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:07:02,694 p=33693 u=tbj |  ok: [master] => {
    "msg": "delete from mysql.user where host!='127.0.0.1' and user!='root';flush privileges;"
}
2017-11-28 11:07:02,695 p=33693 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:07:02,695 p=33693 u=tbj |  master                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-28 11:33:22,249 p=33726 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:33:22,302 p=33726 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:33:24,989 p=33726 u=tbj |  ok: [master]
2017-11-28 11:33:24,993 p=33726 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:33:26,005 p=33726 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 11:33:26,645 p=33726 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 11:33:27,393 p=33726 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:33:28,084 p=33726 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 11:33:28,624 p=33726 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 11:33:29,199 p=33726 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:33:29,759 p=33726 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:33:30,348 p=33726 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 11:33:31,117 p=33726 u=tbj |  changed: [master] => (item=grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';)
2017-11-28 11:33:31,771 p=33726 u=tbj |  changed: [master] => (item=grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';)
2017-11-28 11:33:32,317 p=33726 u=tbj |  changed: [master] => (item=GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';)
2017-11-28 11:33:32,879 p=33726 u=tbj |  changed: [master] => (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';)
2017-11-28 11:33:33,535 p=33726 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;)
2017-11-28 11:33:34,261 p=33726 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;)
2017-11-28 11:33:34,920 p=33726 u=tbj |  changed: [master] => (item=grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;)
2017-11-28 11:33:35,493 p=33726 u=tbj |  changed: [master] => (item=reset master;)
2017-11-28 11:33:35,500 p=33726 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:33:35,500 p=33726 u=tbj |  master                     : ok=2    changed=1    unreachable=0    failed=0   
2017-11-28 11:35:43,116 p=33849 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:35:43,171 p=33849 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:35:45,556 p=33849 u=tbj |  ok: [master]
2017-11-28 11:35:45,560 p=33849 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:35:46,359 p=33849 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 11:35:47,066 p=33849 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 11:35:47,638 p=33849 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:35:48,195 p=33849 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 11:35:48,759 p=33849 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 11:35:49,395 p=33849 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:35:50,148 p=33849 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:35:50,782 p=33849 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 11:35:51,359 p=33849 u=tbj |  changed: [master] => (item=grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';)
2017-11-28 11:35:51,883 p=33849 u=tbj |  changed: [master] => (item=grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';)
2017-11-28 11:35:52,565 p=33849 u=tbj |  changed: [master] => (item=GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';)
2017-11-28 11:35:53,285 p=33849 u=tbj |  changed: [master] => (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';)
2017-11-28 11:35:53,981 p=33849 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;)
2017-11-28 11:35:54,617 p=33849 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;)
2017-11-28 11:35:55,506 p=33849 u=tbj |  changed: [master] => (item=grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;)
2017-11-28 11:35:56,050 p=33849 u=tbj |  failed: [master] (item=reset master;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" reset master; \"", "delta": "0:00:00.013008", "end": "2017-11-28 11:21:17.672580", "failed": true, "item": "reset master;", "rc": 1, "start": "2017-11-28 11:21:17.659572", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:35:56,056 p=33849 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-28 11:35:56,056 p=33849 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:35:56,056 p=33849 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-28 11:49:49,990 p=33999 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:49:50,042 p=33999 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:49:52,548 p=33999 u=tbj |  ok: [master]
2017-11-28 11:49:52,552 p=33999 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:49:53,149 p=33999 u=tbj |  failed: [master] (item=delete from mysql.user where host!='127.0.0.1' or user!='root';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" delete from mysql.user where host!='127.0.0.1' or user!='root'; \"", "delta": "0:00:00.012061", "end": "2017-11-28 11:35:14.733861", "failed": true, "item": "delete from mysql.user where host!='127.0.0.1' or user!='root';", "rc": 1, "start": "2017-11-28 11:35:14.721800", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:53,660 p=33999 u=tbj |  failed: [master] (item=flush privileges;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" flush privileges; \"", "delta": "0:00:00.008533", "end": "2017-11-28 11:35:15.215884", "failed": true, "item": "flush privileges;", "rc": 1, "start": "2017-11-28 11:35:15.207351", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:54,273 p=33999 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.014004", "end": "2017-11-28 11:35:15.777539", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:35:15.763535", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:54,784 p=33999 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1'; \"", "delta": "0:00:00.017710", "end": "2017-11-28 11:35:16.368735", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';", "rc": 1, "start": "2017-11-28 11:35:16.351025", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:55,446 p=33999 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost'; \"", "delta": "0:00:00.016934", "end": "2017-11-28 11:35:17.042055", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';", "rc": 1, "start": "2017-11-28 11:35:17.025121", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:56,115 p=33999 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.017805", "end": "2017-11-28 11:35:17.663728", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:35:17.645923", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:56,694 p=33999 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.012178", "end": "2017-11-28 11:35:18.295086", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:35:18.282908", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:57,205 p=33999 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost'; \"", "delta": "0:00:00.012026", "end": "2017-11-28 11:35:18.804878", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';", "rc": 1, "start": "2017-11-28 11:35:18.792852", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:57,756 p=33999 u=tbj |  failed: [master] (item=grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6'; \"", "delta": "0:00:00.011755", "end": "2017-11-28 11:35:19.327777", "failed": true, "item": "grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';", "rc": 1, "start": "2017-11-28 11:35:19.316022", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:58,473 p=33999 u=tbj |  failed: [master] (item=grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.014436", "end": "2017-11-28 11:35:19.978174", "failed": true, "item": "grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';", "rc": 1, "start": "2017-11-28 11:35:19.963738", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:59,189 p=33999 u=tbj |  failed: [master] (item=GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5'; \"", "delta": "0:00:00.016323", "end": "2017-11-28 11:35:20.710611", "failed": true, "item": "GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';", "rc": 1, "start": "2017-11-28 11:35:20.694288", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:49:59,817 p=33999 u=tbj |  failed: [master] (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233'; \"", "delta": "0:00:00.020523", "end": "2017-11-28 11:35:21.393995", "failed": true, "item": "GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';", "rc": 1, "start": "2017-11-28 11:35:21.373472", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:00,622 p=33999 u=tbj |  failed: [master] (item=grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option; \"", "delta": "0:00:00.019423", "end": "2017-11-28 11:35:22.127725", "failed": true, "item": "grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;", "rc": 1, "start": "2017-11-28 11:35:22.108302", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:01,338 p=33999 u=tbj |  failed: [master] (item=grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option; \"", "delta": "0:00:00.019509", "end": "2017-11-28 11:35:22.866575", "failed": true, "item": "grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;", "rc": 1, "start": "2017-11-28 11:35:22.847066", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:01,960 p=33999 u=tbj |  failed: [master] (item=reset master;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" reset master; \"", "delta": "0:00:00.028787", "end": "2017-11-28 11:35:23.547935", "failed": true, "item": "reset master;", "rc": 1, "start": "2017-11-28 11:35:23.519148", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:02,950 p=33999 u=tbj |  failed: [master] (item=grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option; \"", "delta": "0:00:00.015443", "end": "2017-11-28 11:35:24.436790", "failed": true, "item": "grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;", "rc": 1, "start": "2017-11-28 11:35:24.421347", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:02,954 p=33999 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-28 11:50:02,954 p=33999 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:50:02,954 p=33999 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-28 11:50:50,868 p=34122 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:50:50,926 p=34122 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:50:52,548 p=34122 u=tbj |  ok: [master]
2017-11-28 11:50:52,552 p=34122 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:50:53,058 p=34122 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 11:50:53,767 p=34122 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 11:50:54,486 p=34122 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.019900", "end": "2017-11-28 11:36:16.014494", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:36:15.994594", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:55,121 p=34122 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1'; \"", "delta": "0:00:00.025087", "end": "2017-11-28 11:36:16.698684", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';", "rc": 1, "start": "2017-11-28 11:36:16.673597", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:55,713 p=34122 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost'; \"", "delta": "0:00:00.012123", "end": "2017-11-28 11:36:17.293143", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';", "rc": 1, "start": "2017-11-28 11:36:17.281020", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:56,299 p=34122 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.017984", "end": "2017-11-28 11:36:17.873225", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:36:17.855241", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:56,841 p=34122 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.010677", "end": "2017-11-28 11:36:18.424137", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:36:18.413460", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:57,456 p=34122 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost'; \"", "delta": "0:00:00.015168", "end": "2017-11-28 11:36:19.019382", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';", "rc": 1, "start": "2017-11-28 11:36:19.004214", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:58,039 p=34122 u=tbj |  failed: [master] (item=grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6'; \"", "delta": "0:00:00.013442", "end": "2017-11-28 11:36:19.628356", "failed": true, "item": "grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';", "rc": 1, "start": "2017-11-28 11:36:19.614914", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:58,786 p=34122 u=tbj |  failed: [master] (item=grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.010720", "end": "2017-11-28 11:36:20.317535", "failed": true, "item": "grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';", "rc": 1, "start": "2017-11-28 11:36:20.306815", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:50:59,502 p=34122 u=tbj |  failed: [master] (item=GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5'; \"", "delta": "0:00:00.019275", "end": "2017-11-28 11:36:21.012413", "failed": true, "item": "GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';", "rc": 1, "start": "2017-11-28 11:36:20.993138", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:51:00,258 p=34122 u=tbj |  failed: [master] (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233'; \"", "delta": "0:00:00.021785", "end": "2017-11-28 11:36:21.837848", "failed": true, "item": "GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';", "rc": 1, "start": "2017-11-28 11:36:21.816063", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:51:00,833 p=34122 u=tbj |  failed: [master] (item=grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option; \"", "delta": "0:00:00.012730", "end": "2017-11-28 11:36:22.406607", "failed": true, "item": "grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;", "rc": 1, "start": "2017-11-28 11:36:22.393877", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:51:01,382 p=34122 u=tbj |  failed: [master] (item=grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option; \"", "delta": "0:00:00.013274", "end": "2017-11-28 11:36:22.976656", "failed": true, "item": "grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;", "rc": 1, "start": "2017-11-28 11:36:22.963382", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:51:02,062 p=34122 u=tbj |  failed: [master] (item=reset master;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" reset master; \"", "delta": "0:00:00.020773", "end": "2017-11-28 11:36:23.564499", "failed": true, "item": "reset master;", "rc": 1, "start": "2017-11-28 11:36:23.543726", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:51:02,780 p=34122 u=tbj |  failed: [master] (item=grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option; \"", "delta": "0:00:00.011267", "end": "2017-11-28 11:36:24.295893", "failed": true, "item": "grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;", "rc": 1, "start": "2017-11-28 11:36:24.284626", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:51:02,783 p=34122 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-28 11:51:02,783 p=34122 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:51:02,783 p=34122 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-28 11:51:57,172 p=34241 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:51:57,227 p=34241 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:51:58,905 p=34241 u=tbj |  ok: [master]
2017-11-28 11:51:58,909 p=34241 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:51:59,716 p=34241 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 11:52:00,327 p=34241 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 11:52:01,726 p=34241 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.025423", "end": "2017-11-28 11:37:23.279583", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:37:23.254160", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:02,480 p=34241 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1'; \"", "delta": "0:00:00.017406", "end": "2017-11-28 11:37:24.046739", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';", "rc": 1, "start": "2017-11-28 11:37:24.029333", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:03,064 p=34241 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost'; \"", "delta": "0:00:00.015182", "end": "2017-11-28 11:37:24.650396", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';", "rc": 1, "start": "2017-11-28 11:37:24.635214", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:03,707 p=34241 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.018455", "end": "2017-11-28 11:37:25.297325", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:37:25.278870", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:04,322 p=34241 u=tbj |  failed: [master] (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \"", "delta": "0:00:00.013655", "end": "2017-11-28 11:37:25.829011", "failed": true, "item": "grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 11:37:25.815356", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:04,938 p=34241 u=tbj |  failed: [master] (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost'; \"", "delta": "0:00:00.015098", "end": "2017-11-28 11:37:26.454833", "failed": true, "item": "grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';", "rc": 1, "start": "2017-11-28 11:37:26.439735", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:05,755 p=34241 u=tbj |  failed: [master] (item=grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6'; \"", "delta": "0:00:00.026977", "end": "2017-11-28 11:37:27.240156", "failed": true, "item": "grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';", "rc": 1, "start": "2017-11-28 11:37:27.213179", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:06,340 p=34241 u=tbj |  failed: [master] (item=grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.019855", "end": "2017-11-28 11:37:27.916953", "failed": true, "item": "grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';", "rc": 1, "start": "2017-11-28 11:37:27.897098", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:06,905 p=34241 u=tbj |  failed: [master] (item=GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5'; \"", "delta": "0:00:00.012067", "end": "2017-11-28 11:37:28.497883", "failed": true, "item": "GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';", "rc": 1, "start": "2017-11-28 11:37:28.485816", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:07,543 p=34241 u=tbj |  failed: [master] (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233'; \"", "delta": "0:00:00.019068", "end": "2017-11-28 11:37:29.123487", "failed": true, "item": "GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';", "rc": 1, "start": "2017-11-28 11:37:29.104419", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:08,213 p=34241 u=tbj |  failed: [master] (item=grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option; \"", "delta": "0:00:00.014910", "end": "2017-11-28 11:37:29.802033", "failed": true, "item": "grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;", "rc": 1, "start": "2017-11-28 11:37:29.787123", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:08,788 p=34241 u=tbj |  failed: [master] (item=grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option; \"", "delta": "0:00:00.012698", "end": "2017-11-28 11:37:30.380731", "failed": true, "item": "grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;", "rc": 1, "start": "2017-11-28 11:37:30.368033", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:09,443 p=34241 u=tbj |  failed: [master] (item=reset master;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" reset master; \"", "delta": "0:00:00.012244", "end": "2017-11-28 11:37:30.968990", "failed": true, "item": "reset master;", "rc": 1, "start": "2017-11-28 11:37:30.956746", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:09,958 p=34241 u=tbj |  failed: [master] (item=grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option; \"", "delta": "0:00:00.014062", "end": "2017-11-28 11:37:31.550856", "failed": true, "item": "grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;", "rc": 1, "start": "2017-11-28 11:37:31.536794", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 11:52:09,963 p=34241 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-28 11:52:09,963 p=34241 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:52:09,964 p=34241 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-28 11:53:24,079 p=34362 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 11:53:24,134 p=34362 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 11:53:26,492 p=34362 u=tbj |  ok: [master]
2017-11-28 11:53:26,496 p=34362 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 11:53:27,268 p=34362 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 11:53:27,919 p=34362 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 11:53:28,575 p=34362 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:53:29,109 p=34362 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 11:53:29,727 p=34362 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 11:53:30,237 p=34362 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:53:30,957 p=34362 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 11:53:31,561 p=34362 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 11:53:32,080 p=34362 u=tbj |  changed: [master] => (item=grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';)
2017-11-28 11:53:32,694 p=34362 u=tbj |  changed: [master] => (item=grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';)
2017-11-28 11:53:33,206 p=34362 u=tbj |  changed: [master] => (item=GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';)
2017-11-28 11:53:33,923 p=34362 u=tbj |  changed: [master] => (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';)
2017-11-28 11:53:34,689 p=34362 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;)
2017-11-28 11:53:35,183 p=34362 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;)
2017-11-28 11:53:35,767 p=34362 u=tbj |  changed: [master] => (item=reset master;)
2017-11-28 11:53:36,302 p=34362 u=tbj |  changed: [master] => (item=grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;)
2017-11-28 11:53:36,305 p=34362 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 11:53:36,306 p=34362 u=tbj |  master                     : ok=2    changed=1    unreachable=0    failed=0   
2017-11-28 14:08:25,331 p=34565 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 14:08:25,412 p=34565 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 14:08:28,659 p=34565 u=tbj |  ok: [master]
2017-11-28 14:08:28,661 p=34565 u=tbj |  ok: [slave1]
2017-11-28 14:08:28,666 p=34565 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 14:08:28,694 p=34565 u=tbj |  skipping: [master]
2017-11-28 14:08:29,458 p=34565 u=tbj |  changed: [slave1]
2017-11-28 14:08:29,461 p=34565 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 14:08:29,462 p=34565 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=0   
2017-11-28 14:08:29,462 p=34565 u=tbj |  slave1                     : ok=2    changed=1    unreachable=0    failed=0   
2017-11-28 14:09:14,126 p=34604 u=tbj |  ERROR! conflicting action statements: debug, shell

The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 84, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'start slave'
     ^ here


The error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 84, column 6, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: 'start slave'
     ^ here

2017-11-28 14:09:20,422 p=34618 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 14:09:20,471 p=34618 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 14:09:22,927 p=34618 u=tbj |  ok: [slave1]
2017-11-28 14:09:22,935 p=34618 u=tbj |  ok: [master]
2017-11-28 14:09:22,943 p=34618 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 14:09:22,970 p=34618 u=tbj |  skipping: [master]
2017-11-28 14:09:22,993 p=34618 u=tbj |  ok: [slave1] => {
    "msg": "192.168.1.102,3306"
}
2017-11-28 14:09:22,998 p=34618 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 14:09:22,999 p=34618 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=0   
2017-11-28 14:09:22,999 p=34618 u=tbj |  slave1                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-28 14:09:36,349 p=34648 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 14:09:36,406 p=34648 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 14:09:38,699 p=34648 u=tbj |  ok: [slave1]
2017-11-28 14:09:38,701 p=34648 u=tbj |  ok: [master]
2017-11-28 14:09:38,705 p=34648 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 14:09:38,734 p=34648 u=tbj |  skipping: [master]
2017-11-28 14:09:38,753 p=34648 u=tbj |  ok: [slave1] => {
    "msg": "192.168.1.112,3336"
}
2017-11-28 14:09:38,757 p=34648 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 14:09:38,758 p=34648 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=0   
2017-11-28 14:09:38,758 p=34648 u=tbj |  slave1                     : ok=2    changed=0    unreachable=0    failed=0   
2017-11-28 14:13:23,604 p=34687 u=tbj |  PLAY [binary package install MySQL] **************************************************************************************************************************************
2017-11-28 14:13:23,660 p=34687 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 14:13:28,900 p=34687 u=tbj |  ok: [slave1]
2017-11-28 14:13:28,904 p=34687 u=tbj |  TASK [查看是否有ignorespace设置] ************************************************************************************************************************************************
2017-11-28 14:13:29,606 p=34687 u=tbj |  changed: [slave1]
2017-11-28 14:13:29,610 p=34687 u=tbj |  TASK [是否进行ignorespace设置] *************************************************************************************************************************************************
2017-11-28 14:13:29,631 p=34687 u=tbj |  skipping: [slave1]
2017-11-28 14:13:29,636 p=34687 u=tbj |  TASK [查看是否有mysql path设置] *************************************************************************************************************************************************
2017-11-28 14:13:30,220 p=34687 u=tbj |  fatal: [slave1]: FAILED! => {"changed": true, "cmd": "grep \"mysql-5.6.38-linux-glibc2.12-x86_64\" /root/.bashrc", "delta": "0:00:00.008360", "end": "2017-11-28 14:12:34.954011", "failed": true, "rc": 1, "start": "2017-11-28 14:12:34.945651", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2017-11-28 14:13:30,220 p=34687 u=tbj |  ...ignoring
2017-11-28 14:13:30,224 p=34687 u=tbj |  TASK [是否进行MySQL环境变量配置] ***************************************************************************************************************************************************
2017-11-28 14:13:30,834 p=34687 u=tbj |  changed: [slave1]
2017-11-28 14:13:30,838 p=34687 u=tbj |  TASK [安装基础包] *************************************************************************************************************************************************************
2017-11-28 14:29:35,897 p=34687 u=tbj |   [ERROR]: User interrupted execution

2017-11-28 14:29:39,886 p=34781 u=tbj |  PLAY [binary package install MySQL] **************************************************************************************************************************************
2017-11-28 14:29:39,940 p=34781 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 14:29:41,200 p=34781 u=tbj |  ok: [slave1]
2017-11-28 14:29:41,204 p=34781 u=tbj |  TASK [查看是否有ignorespace设置] ************************************************************************************************************************************************
2017-11-28 14:29:42,008 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:29:42,013 p=34781 u=tbj |  TASK [是否进行ignorespace设置] *************************************************************************************************************************************************
2017-11-28 14:29:42,033 p=34781 u=tbj |  skipping: [slave1]
2017-11-28 14:29:42,039 p=34781 u=tbj |  TASK [查看是否有mysql path设置] *************************************************************************************************************************************************
2017-11-28 14:29:42,724 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:29:42,729 p=34781 u=tbj |  TASK [是否进行MySQL环境变量配置] ***************************************************************************************************************************************************
2017-11-28 14:29:42,756 p=34781 u=tbj |  skipping: [slave1]
2017-11-28 14:29:42,761 p=34781 u=tbj |  TASK [安装基础包] *************************************************************************************************************************************************************
2017-11-28 14:29:54,956 p=34781 u=tbj |  ok: [slave1] => (item=[u'https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm', u'vim', u'screen', u'telnet'])
2017-11-28 14:29:54,961 p=34781 u=tbj |  TASK [安装数据库依赖包] **********************************************************************************************************************************************************
2017-11-28 14:29:55,811 p=34781 u=tbj |  ok: [slave1] => (item=[u'autoconf', u'libselinux-python', u'numactl', u'iftop'])
2017-11-28 14:29:55,816 p=34781 u=tbj |  TASK [create mysql user] *************************************************************************************************************************************************
2017-11-28 14:29:56,651 p=34781 u=tbj |  ok: [slave1]
2017-11-28 14:29:56,659 p=34781 u=tbj |  TASK [copy] **************************************************************************************************************************************************************
2017-11-28 14:30:32,246 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:32,252 p=34781 u=tbj |  TASK [查看是否有已经按照mysql包] ***************************************************************************************************************************************************
2017-11-28 14:30:32,745 p=34781 u=tbj |  fatal: [slave1]: FAILED! => {"changed": true, "cmd": "ls /usr/local/mysql-5.6.38-linux-glibc2.12-x86_64", "delta": "0:00:00.005267", "end": "2017-11-28 14:29:37.491705", "failed": true, "rc": 2, "start": "2017-11-28 14:29:37.486438", "stderr": "ls: cannot access /usr/local/mysql-5.6.38-linux-glibc2.12-x86_64: No such file or directory", "stderr_lines": ["ls: cannot access /usr/local/mysql-5.6.38-linux-glibc2.12-x86_64: No such file or directory"], "stdout": "", "stdout_lines": []}
2017-11-28 14:30:32,746 p=34781 u=tbj |  ...ignoring
2017-11-28 14:30:32,750 p=34781 u=tbj |  TASK [tar] ***************************************************************************************************************************************************************
2017-11-28 14:30:47,299 p=34781 u=tbj |   [WARNING]: Consider using unarchive module rather than running tar

2017-11-28 14:30:47,299 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:47,304 p=34781 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 14:30:47,309 p=34781 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 14:30:48,883 p=34781 u=tbj |  ok: [slave1]
2017-11-28 14:30:48,887 p=34781 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-28 14:30:49,799 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:49,803 p=34781 u=tbj |  TASK [mkdir] *************************************************************************************************************************************************************
2017-11-28 14:30:50,707 p=34781 u=tbj |   [WARNING]: Consider using file module with state=directory rather than running mkdir

2017-11-28 14:30:50,708 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:50,712 p=34781 u=tbj |  TASK [chown] *************************************************************************************************************************************************************
2017-11-28 14:30:51,638 p=34781 u=tbj |   [WARNING]: Consider using file module with owner rather than running chown

2017-11-28 14:30:51,639 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:51,645 p=34781 u=tbj |  TASK [copy config file] **************************************************************************************************************************************************
2017-11-28 14:30:54,708 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:54,712 p=34781 u=tbj |  TASK [sed mysql port] ****************************************************************************************************************************************************
2017-11-28 14:30:55,633 p=34781 u=tbj |   [WARNING]: Consider using template or lineinfile module rather than running sed

2017-11-28 14:30:55,634 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:55,639 p=34781 u=tbj |  TASK [sed mysql server_id] ***********************************************************************************************************************************************
2017-11-28 14:30:56,452 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:56,456 p=34781 u=tbj |  TASK [sed mysql path] ****************************************************************************************************************************************************
2017-11-28 14:30:57,270 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:57,275 p=34781 u=tbj |  TASK [sed mysql base path] ***********************************************************************************************************************************************
2017-11-28 14:30:58,093 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:58,097 p=34781 u=tbj |  TASK [sed mysql BP] ******************************************************************************************************************************************************
2017-11-28 14:30:58,874 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:30:58,879 p=34781 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-28 14:31:14,778 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:31:14,782 p=34781 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-28 14:31:16,626 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:31:16,634 p=34781 u=tbj |  TASK [timed wait] ********************************************************************************************************************************************************
2017-11-28 14:31:16,662 p=34781 u=tbj |  Pausing for 10 seconds
2017-11-28 14:31:16,663 p=34781 u=tbj |  (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2017-11-28 14:31:26,668 p=34781 u=tbj |  ok: [slave1]
2017-11-28 14:31:26,673 p=34781 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-28 14:31:27,479 p=34781 u=tbj |  changed: [slave1]
2017-11-28 14:31:27,484 p=34781 u=tbj |  TASK [success] ***********************************************************************************************************************************************************
2017-11-28 14:31:27,526 p=34781 u=tbj |  ok: [slave1] => {
    "msg": "success 3306  启动成功,请执行命令(  )搭建搭建主从。"
}
2017-11-28 14:31:27,531 p=34781 u=tbj |  TASK [failed] ************************************************************************************************************************************************************
2017-11-28 14:31:27,553 p=34781 u=tbj |  skipping: [slave1]
2017-11-28 14:31:27,560 p=34781 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 14:31:28,503 p=34781 u=tbj |  changed: [slave1] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 14:31:29,322 p=34781 u=tbj |  changed: [slave1] => (item=flush privileges;)
2017-11-28 14:31:30,181 p=34781 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 14:31:30,960 p=34781 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 14:31:31,777 p=34781 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 14:31:32,700 p=34781 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 14:31:33,419 p=34781 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';)
2017-11-28 14:31:34,236 p=34781 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 14:31:35,055 p=34781 u=tbj |  changed: [slave1] => (item=grant REPLICATION CLIENT, PROCESS ON *.* TO falcon@'127.0.0.1' identified by PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';)
2017-11-28 14:31:35,808 p=34781 u=tbj |  changed: [slave1] => (item=grant REPLICATION slave ON *.* TO repl@'172.16.%' identified by PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97';)
2017-11-28 14:31:36,558 p=34781 u=tbj |  changed: [slave1] => (item=GRANT PROCESS, SUPER ON *.* TO 'lepus_monitor'@'192.168.40.65' identified by PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';)
2017-11-28 14:31:37,283 p=34781 u=tbj |  changed: [slave1] => (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'putin_rw'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';)
2017-11-28 14:31:37,985 p=34781 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;)
2017-11-28 14:31:38,724 p=34781 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' with grant option;)
2017-11-28 14:31:39,467 p=34781 u=tbj |  changed: [slave1] => (item=reset master;)
2017-11-28 14:31:40,217 p=34781 u=tbj |  changed: [slave1] => (item=grant all on *.* to root@'127.0.0.1' identified BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' with grant option;)
2017-11-28 14:31:40,224 p=34781 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 14:31:40,248 p=34781 u=tbj |  fatal: [slave1]: FAILED! => {"failed": true, "msg": "the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'master_prt' is undefined\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 84, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'start slave'\n     ^ here\n"}
2017-11-28 14:31:40,251 p=34781 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/main.retry

2017-11-28 14:31:40,251 p=34781 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 14:31:40,251 p=34781 u=tbj |  slave1                     : ok=25   changed=18   unreachable=0    failed=1   
2017-11-28 14:33:37,896 p=35078 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 14:33:37,948 p=35078 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 14:33:39,894 p=35078 u=tbj |  ok: [slave1]
2017-11-28 14:33:39,897 p=35078 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 14:33:39,919 p=35078 u=tbj |  fatal: [slave1]: FAILED! => {"failed": true, "msg": "the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'master_prt' is undefined\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 84, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'start slave'\n     ^ here\n"}
2017-11-28 14:33:39,921 p=35078 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-28 14:33:39,921 p=35078 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 14:33:39,922 p=35078 u=tbj |  slave1                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-28 14:34:01,021 p=35103 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 14:34:01,079 p=35103 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 14:34:02,422 p=35103 u=tbj |  ok: [slave1]
2017-11-28 14:34:02,427 p=35103 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 14:34:03,231 p=35103 u=tbj |  changed: [slave1]
2017-11-28 14:34:03,233 p=35103 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 14:34:03,233 p=35103 u=tbj |  slave1                     : ok=2    changed=1    unreachable=0    failed=0   
2017-11-28 15:08:25,433 p=35194 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 15:08:25,514 p=35194 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 15:08:27,600 p=35194 u=tbj |  ok: [slave1]
2017-11-28 15:08:28,154 p=35194 u=tbj |  ok: [master]
2017-11-28 15:08:28,159 p=35194 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 15:08:28,957 p=35194 u=tbj |  changed: [master] => (item=DELETE FROM MYSQL.USER WHERE HOST!='127.0.0.1' OR USER!='ROOT';)
2017-11-28 15:08:29,081 p=35194 u=tbj |  changed: [slave1] => (item=DELETE FROM MYSQL.USER WHERE HOST!='127.0.0.1' OR USER!='ROOT';)
2017-11-28 15:08:30,123 p=35194 u=tbj |  failed: [master] (item=FLUSH PRIVILEGES;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" FLUSH PRIVILEGES; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.023539", "end": "2017-11-28 14:53:51.240930", "failed": true, "item": "FLUSH PRIVILEGES;", "rc": 1, "start": "2017-11-28 14:53:51.217391", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:30,302 p=35194 u=tbj |  failed: [slave1] (item=FLUSH PRIVILEGES;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" FLUSH PRIVILEGES; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.021230", "end": "2017-11-28 15:07:34.967102", "failed": true, "item": "FLUSH PRIVILEGES;", "rc": 1, "start": "2017-11-28 15:07:34.945872", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:31,221 p=35194 u=tbj |  failed: [slave1] (item=) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \"  \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020104", "end": "2017-11-28 15:07:35.855397", "failed": true, "item": "", "rc": 1, "start": "2017-11-28 15:07:35.835293", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:31,222 p=35194 u=tbj |  failed: [master] (item=) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \"  \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.038722", "end": "2017-11-28 14:53:52.319891", "failed": true, "item": "", "rc": 1, "start": "2017-11-28 14:53:52.281169", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:31,869 p=35194 u=tbj |  failed: [master] (item=GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'127.0.0.1' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'127.0.0.1' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.018836", "end": "2017-11-28 14:53:53.060859", "failed": true, "item": "GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'127.0.0.1' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 14:53:53.042023", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:32,001 p=35194 u=tbj |  failed: [slave1] (item=GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'127.0.0.1' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'127.0.0.1' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020773", "end": "2017-11-28 15:07:36.664618", "failed": true, "item": "GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'127.0.0.1' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 15:07:36.643845", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:32,420 p=35194 u=tbj |  failed: [master] (item=GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'127.0.0.1';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'127.0.0.1'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.023090", "end": "2017-11-28 14:53:53.603370", "failed": true, "item": "GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'127.0.0.1';", "rc": 1, "start": "2017-11-28 14:53:53.580280", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:32,779 p=35194 u=tbj |  failed: [slave1] (item=GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'127.0.0.1';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'127.0.0.1'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.021924", "end": "2017-11-28 15:07:37.444663", "failed": true, "item": "GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'127.0.0.1';", "rc": 1, "start": "2017-11-28 15:07:37.422739", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:32,955 p=35194 u=tbj |  failed: [master] (item=GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'LOCALHOST' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'LOCALHOST' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.018737", "end": "2017-11-28 14:53:54.146658", "failed": true, "item": "GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'LOCALHOST' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 14:53:54.127921", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:33,480 p=35194 u=tbj |  failed: [master] (item=GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'LOCALHOST';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'LOCALHOST'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.026998", "end": "2017-11-28 14:53:54.650809", "failed": true, "item": "GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'LOCALHOST';", "rc": 1, "start": "2017-11-28 14:53:54.623811", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:33,547 p=35194 u=tbj |  failed: [slave1] (item=GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'LOCALHOST' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'LOCALHOST' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020401", "end": "2017-11-28 15:07:38.211864", "failed": true, "item": "GRANT PROCESS,RELOAD,LOCK TABLES,SUPER,REPLICATION CLIENT,REPLICATION SLAVE ON *.* TO 'BKPUSER'@'LOCALHOST' IDENTIFIED BY PASSWORD '*2A58DD5A959B1B5D320404C21B42BBC69AC0DEFE';", "rc": 1, "start": "2017-11-28 15:07:38.191463", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:34,180 p=35194 u=tbj |  failed: [master] (item=) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \"  \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.027352", "end": "2017-11-28 14:53:55.362193", "failed": true, "item": "", "rc": 1, "start": "2017-11-28 14:53:55.334841", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:34,312 p=35194 u=tbj |  failed: [slave1] (item=GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'LOCALHOST';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'LOCALHOST'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020697", "end": "2017-11-28 15:07:38.977365", "failed": true, "item": "GRANT SELECT,INSERT,UPDATE,CREATE ON PERCONA_SCHEMA.* TO 'BKPUSER'@'LOCALHOST';", "rc": 1, "start": "2017-11-28 15:07:38.956668", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:34,827 p=35194 u=tbj |  failed: [master] (item=GRANT REPLICATION CLIENT, PROCESS ON *.* TO FALCON@'127.0.0.1' IDENTIFIED BY PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT REPLICATION CLIENT, PROCESS ON *.* TO FALCON@'127.0.0.1' IDENTIFIED BY PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.016731", "end": "2017-11-28 14:53:56.020862", "failed": true, "item": "GRANT REPLICATION CLIENT, PROCESS ON *.* TO FALCON@'127.0.0.1' IDENTIFIED BY PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';", "rc": 1, "start": "2017-11-28 14:53:56.004131", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:35,030 p=35194 u=tbj |  failed: [slave1] (item=) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \"  \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.018984", "end": "2017-11-28 15:07:39.696001", "failed": true, "item": "", "rc": 1, "start": "2017-11-28 15:07:39.677017", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:35,332 p=35194 u=tbj |  failed: [master] (item=) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \"  \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.018916", "end": "2017-11-28 14:53:56.521562", "failed": true, "item": "", "rc": 1, "start": "2017-11-28 14:53:56.502646", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:35,780 p=35194 u=tbj |  failed: [slave1] (item=GRANT REPLICATION CLIENT, PROCESS ON *.* TO FALCON@'127.0.0.1' IDENTIFIED BY PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT REPLICATION CLIENT, PROCESS ON *.* TO FALCON@'127.0.0.1' IDENTIFIED BY PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020345", "end": "2017-11-28 15:07:40.445103", "failed": true, "item": "GRANT REPLICATION CLIENT, PROCESS ON *.* TO FALCON@'127.0.0.1' IDENTIFIED BY PASSWORD '*FCF759487EB0B555E9A59DA3C17DB0957B52ACA6';", "rc": 1, "start": "2017-11-28 15:07:40.424758", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:35,954 p=35194 u=tbj |  failed: [master] (item=GRANT PROCESS, SUPER ON *.* TO 'LEPUS_MONITOR'@'192.168.40.65' IDENTIFIED BY PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS, SUPER ON *.* TO 'LEPUS_MONITOR'@'192.168.40.65' IDENTIFIED BY PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.017220", "end": "2017-11-28 14:53:57.146883", "failed": true, "item": "GRANT PROCESS, SUPER ON *.* TO 'LEPUS_MONITOR'@'192.168.40.65' IDENTIFIED BY PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';", "rc": 1, "start": "2017-11-28 14:53:57.129663", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:36,546 p=35194 u=tbj |  failed: [master] (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'PUTIN_RW'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'PUTIN_RW'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.023049", "end": "2017-11-28 14:53:57.719770", "failed": true, "item": "GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'PUTIN_RW'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';", "rc": 1, "start": "2017-11-28 14:53:57.696721", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:36,547 p=35194 u=tbj |  failed: [slave1] (item=) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \"  \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.017008", "end": "2017-11-28 15:07:41.134606", "failed": true, "item": "", "rc": 1, "start": "2017-11-28 15:07:41.117598", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:37,058 p=35194 u=tbj |  failed: [master] (item=) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \"  \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.016602", "end": "2017-11-28 14:53:58.243508", "failed": true, "item": "", "rc": 1, "start": "2017-11-28 14:53:58.226906", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:37,280 p=35194 u=tbj |  failed: [slave1] (item=GRANT PROCESS, SUPER ON *.* TO 'LEPUS_MONITOR'@'192.168.40.65' IDENTIFIED BY PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT PROCESS, SUPER ON *.* TO 'LEPUS_MONITOR'@'192.168.40.65' IDENTIFIED BY PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.021702", "end": "2017-11-28 15:07:41.945360", "failed": true, "item": "GRANT PROCESS, SUPER ON *.* TO 'LEPUS_MONITOR'@'192.168.40.65' IDENTIFIED BY PASSWORD '*4D4C3F19988186783D5D44E42B448A2CCD5D78E5';", "rc": 1, "start": "2017-11-28 15:07:41.923658", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:37,633 p=35194 u=tbj |  failed: [master] (item=GRANT ALL ON *.* TO TIANYUAN@'127.0.0.1' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT ALL ON *.* TO TIANYUAN@'127.0.0.1' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.019729", "end": "2017-11-28 14:53:58.823965", "failed": true, "item": "GRANT ALL ON *.* TO TIANYUAN@'127.0.0.1' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION;", "rc": 1, "start": "2017-11-28 14:53:58.804236", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:38,051 p=35194 u=tbj |  failed: [slave1] (item=GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'PUTIN_RW'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'PUTIN_RW'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233'; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020643", "end": "2017-11-28 15:07:42.716694", "failed": true, "item": "GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER, SUPER, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'PUTIN_RW'@'172.16.33.191' IDENTIFIED BY PASSWORD '*A6359871933AD9553787ADADFDCC3BDBC7445233';", "rc": 1, "start": "2017-11-28 15:07:42.696051", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:38,104 p=35194 u=tbj |  failed: [master] (item=GRANT ALL ON *.* TO TIANYUAN@'192.168.40.65' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT ALL ON *.* TO TIANYUAN@'192.168.40.65' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.017552", "end": "2017-11-28 14:53:59.297688", "failed": true, "item": "GRANT ALL ON *.* TO TIANYUAN@'192.168.40.65' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION;", "rc": 1, "start": "2017-11-28 14:53:59.280136", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:38,651 p=35194 u=tbj |  failed: [master] (item=RESET MASTER;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" RESET MASTER; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.025631", "end": "2017-11-28 14:53:59.827859", "failed": true, "item": "RESET MASTER;", "rc": 1, "start": "2017-11-28 14:53:59.802228", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:38,826 p=35194 u=tbj |  failed: [slave1] (item=) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \"  \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020747", "end": "2017-11-28 15:07:43.489743", "failed": true, "item": "", "rc": 1, "start": "2017-11-28 15:07:43.468996", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:39,130 p=35194 u=tbj |  failed: [master] (item=GRANT ALL ON *.* TO ROOT@'127.0.0.1' IDENTIFIED BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' WITH GRANT OPTION;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT ALL ON *.* TO ROOT@'127.0.0.1' IDENTIFIED BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' WITH GRANT OPTION; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.014234", "end": "2017-11-28 14:54:00.322265", "failed": true, "item": "GRANT ALL ON *.* TO ROOT@'127.0.0.1' IDENTIFIED BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' WITH GRANT OPTION;", "rc": 1, "start": "2017-11-28 14:54:00.308031", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:39,595 p=35194 u=tbj |  failed: [slave1] (item=GRANT ALL ON *.* TO TIANYUAN@'127.0.0.1' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT ALL ON *.* TO TIANYUAN@'127.0.0.1' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020463", "end": "2017-11-28 15:07:44.259859", "failed": true, "item": "GRANT ALL ON *.* TO TIANYUAN@'127.0.0.1' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION;", "rc": 1, "start": "2017-11-28 15:07:44.239396", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:40,333 p=35194 u=tbj |  failed: [slave1] (item=GRANT ALL ON *.* TO TIANYUAN@'192.168.40.65' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT ALL ON *.* TO TIANYUAN@'192.168.40.65' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.018783", "end": "2017-11-28 15:07:44.995553", "failed": true, "item": "GRANT ALL ON *.* TO TIANYUAN@'192.168.40.65' IDENTIFIED BY PASSWORD '*EFC0F6A55D04B7D11330B7E3C3234B14D1B9BE3C' WITH GRANT OPTION;", "rc": 1, "start": "2017-11-28 15:07:44.976770", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:41,076 p=35194 u=tbj |  failed: [slave1] (item=RESET MASTER;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" RESET MASTER; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.020186", "end": "2017-11-28 15:07:45.739937", "failed": true, "item": "RESET MASTER;", "rc": 1, "start": "2017-11-28 15:07:45.719751", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:41,818 p=35194 u=tbj |  failed: [slave1] (item=GRANT ALL ON *.* TO ROOT@'127.0.0.1' IDENTIFIED BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' WITH GRANT OPTION;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" GRANT ALL ON *.* TO ROOT@'127.0.0.1' IDENTIFIED BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' WITH GRANT OPTION; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO REPL@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.019004", "end": "2017-11-28 15:07:46.484873", "failed": true, "item": "GRANT ALL ON *.* TO ROOT@'127.0.0.1' IDENTIFIED BY PASSWORD '*2EADA92E1DE4822686100C544D7D5E88AC27FB15' WITH GRANT OPTION;", "rc": 1, "start": "2017-11-28 15:07:46.465869", "stderr": "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server\nERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "stderr_lines": ["ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server", "ERROR 1130 (HY000): Host '127.0.0.1' is not allowed to connect to this MySQL server"], "stdout": "", "stdout_lines": []}
2017-11-28 15:08:41,821 p=35194 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-28 15:08:41,822 p=35194 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 15:08:41,822 p=35194 u=tbj |  master                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-28 15:08:41,822 p=35194 u=tbj |  slave1                     : ok=1    changed=0    unreachable=0    failed=1   
2017-11-28 15:22:52,886 p=35444 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 15:22:52,983 p=35444 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 15:22:55,034 p=35444 u=tbj |  ok: [slave1]
2017-11-28 15:22:55,286 p=35444 u=tbj |  ok: [master]
2017-11-28 15:22:55,291 p=35444 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-28 15:22:55,852 p=35444 u=tbj |  changed: [master]
2017-11-28 15:22:56,309 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:22:56,318 p=35444 u=tbj |  TASK [mkdir] *************************************************************************************************************************************************************
2017-11-28 15:22:56,993 p=35444 u=tbj |   [WARNING]: Consider using file module with state=directory rather than running mkdir

2017-11-28 15:22:56,993 p=35444 u=tbj |  changed: [master]
2017-11-28 15:22:57,164 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:22:57,172 p=35444 u=tbj |  TASK [chown] *************************************************************************************************************************************************************
2017-11-28 15:22:57,890 p=35444 u=tbj |   [WARNING]: Consider using file module with owner rather than running chown

2017-11-28 15:22:57,891 p=35444 u=tbj |  changed: [master]
2017-11-28 15:22:57,990 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:22:58,001 p=35444 u=tbj |  TASK [copy config file] **************************************************************************************************************************************************
2017-11-28 15:23:00,601 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:00,647 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:00,656 p=35444 u=tbj |  TASK [sed mysql port] ****************************************************************************************************************************************************
2017-11-28 15:23:01,961 p=35444 u=tbj |   [WARNING]: Consider using template or lineinfile module rather than running sed

2017-11-28 15:23:01,962 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:01,979 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:01,991 p=35444 u=tbj |  TASK [sed mysql server_id] ***********************************************************************************************************************************************
2017-11-28 15:23:02,740 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:02,816 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:02,823 p=35444 u=tbj |  TASK [sed mysql path] ****************************************************************************************************************************************************
2017-11-28 15:23:03,681 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:03,684 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:03,689 p=35444 u=tbj |  TASK [sed mysql base path] ***********************************************************************************************************************************************
2017-11-28 15:23:04,473 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:04,515 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:04,524 p=35444 u=tbj |  TASK [sed mysql BP] ******************************************************************************************************************************************************
2017-11-28 15:23:05,295 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:05,409 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:05,417 p=35444 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-28 15:23:29,793 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:35,736 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:35,747 p=35444 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-28 15:23:37,678 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:37,679 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:37,688 p=35444 u=tbj |  TASK [timed wait] ********************************************************************************************************************************************************
2017-11-28 15:23:37,721 p=35444 u=tbj |  Pausing for 10 seconds
2017-11-28 15:23:37,723 p=35444 u=tbj |  (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2017-11-28 15:23:47,728 p=35444 u=tbj |  ok: [master]
2017-11-28 15:23:47,733 p=35444 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-28 15:23:49,329 p=35444 u=tbj |  changed: [slave1]
2017-11-28 15:23:49,487 p=35444 u=tbj |  changed: [master]
2017-11-28 15:23:49,502 p=35444 u=tbj |  TASK [success] ***********************************************************************************************************************************************************
2017-11-28 15:23:49,671 p=35444 u=tbj |  ok: [slave1] => {
    "msg": "success 3306  启动成功,请执行命令(  )搭建搭建主从。"
}
2017-11-28 15:23:49,675 p=35444 u=tbj |  ok: [master] => {
    "msg": "success 3306  启动成功,请执行命令(  )搭建搭建主从。"
}
2017-11-28 15:23:49,687 p=35444 u=tbj |  TASK [failed] ************************************************************************************************************************************************************
2017-11-28 15:23:49,728 p=35444 u=tbj |  skipping: [master]
2017-11-28 15:23:49,740 p=35444 u=tbj |  skipping: [slave1]
2017-11-28 15:23:49,749 p=35444 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 15:23:51,090 p=35444 u=tbj |  changed: [master] => (item=)
2017-11-28 15:23:51,129 p=35444 u=tbj |  changed: [slave1] => (item=)
2017-11-28 15:23:51,909 p=35444 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 15:23:51,917 p=35444 u=tbj |  changed: [slave1] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 15:23:52,628 p=35444 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 15:23:52,681 p=35444 u=tbj |  changed: [slave1] => (item=flush privileges;)
2017-11-28 15:23:53,299 p=35444 u=tbj |  changed: [master] => (item=)
2017-11-28 15:23:53,420 p=35444 u=tbj |  changed: [slave1] => (item=)
2017-11-28 15:23:53,901 p=35444 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 15:23:54,184 p=35444 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 15:23:54,498 p=35444 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 15:23:54,941 p=35444 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 15:23:55,045 p=35444 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 15:23:55,800 p=35444 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 15:23:55,802 p=35444 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 15:23:56,523 p=35444 u=tbj |  changed: [master] => (item=)
2017-11-28 15:23:56,584 p=35444 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 15:23:57,034 p=35444 u=tbj |  changed: [master] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 15:23:57,369 p=35444 u=tbj |  changed: [slave1] => (item=)
2017-11-28 15:23:57,738 p=35444 u=tbj |  changed: [master] => (item=)
2017-11-28 15:23:58,138 p=35444 u=tbj |  changed: [slave1] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 15:23:58,439 p=35444 u=tbj |  changed: [master] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 15:23:58,917 p=35444 u=tbj |  changed: [slave1] => (item=)
2017-11-28 15:23:59,040 p=35444 u=tbj |  changed: [master] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 15:23:59,797 p=35444 u=tbj |  changed: [slave1] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 15:23:59,928 p=35444 u=tbj |  changed: [master] => (item=)
2017-11-28 15:24:00,616 p=35444 u=tbj |  changed: [slave1] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 15:24:00,616 p=35444 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 15:24:01,434 p=35444 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 15:24:01,434 p=35444 u=tbj |  changed: [slave1] => (item=)
2017-11-28 15:24:02,003 p=35444 u=tbj |  changed: [master] => (item=reset master;)
2017-11-28 15:24:02,217 p=35444 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 15:24:02,694 p=35444 u=tbj |  failed: [master] (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO repl@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.029598", "end": "2017-11-28 15:09:23.845181", "failed": true, "item": "grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;", "rc": 1, "start": "2017-11-28 15:09:23.815583", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 15:24:03,004 p=35444 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 15:24:03,787 p=35444 u=tbj |  changed: [slave1] => (item=reset master;)
2017-11-28 15:24:04,606 p=35444 u=tbj |  failed: [slave1] (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;) => {"changed": true, "cmd": "mysql -uroot -h127.0.0.1 -P3306 -e \" grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option; \";mysql -uroot -h127.0.0.1 -P3306 -e \"GRANT REPLICATION SLAVE ON *.* TO repl@'192.168.%' IDENTIFIED BY PASSWORD '*AFAF2DF9E915DC4CADF3D97B30B754ACD59FEF97'; \"", "delta": "0:00:00.022804", "end": "2017-11-28 15:23:09.166349", "failed": true, "item": "grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;", "rc": 1, "start": "2017-11-28 15:23:09.143545", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'127.0.0.1' (using password: NO)"], "stdout": "", "stdout_lines": []}
2017-11-28 15:24:04,609 p=35444 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-28 15:24:04,609 p=35444 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 15:24:04,610 p=35444 u=tbj |  master                     : ok=15   changed=12   unreachable=0    failed=1   
2017-11-28 15:24:04,610 p=35444 u=tbj |  slave1                     : ok=14   changed=12   unreachable=0    failed=1   
2017-11-28 16:19:20,926 p=36036 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 16:19:21,003 p=36036 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 16:19:22,930 p=36036 u=tbj |  ok: [master]
2017-11-28 16:19:22,931 p=36036 u=tbj |  ok: [slave1]
2017-11-28 16:19:22,935 p=36036 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-28 16:19:23,369 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:23,841 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:23,846 p=36036 u=tbj |  TASK [mkdir] *************************************************************************************************************************************************************
2017-11-28 16:19:25,227 p=36036 u=tbj |   [WARNING]: Consider using file module with state=directory rather than running mkdir

2017-11-28 16:19:25,227 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:25,240 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:25,245 p=36036 u=tbj |  TASK [chown] *************************************************************************************************************************************************************
2017-11-28 16:19:25,802 p=36036 u=tbj |   [WARNING]: Consider using file module with owner rather than running chown

2017-11-28 16:19:25,803 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:26,061 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:26,069 p=36036 u=tbj |  TASK [copy config file] **************************************************************************************************************************************************
2017-11-28 16:19:28,500 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:28,543 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:28,551 p=36036 u=tbj |  TASK [sed mysql port] ****************************************************************************************************************************************************
2017-11-28 16:19:29,170 p=36036 u=tbj |   [WARNING]: Consider using template or lineinfile module rather than running sed

2017-11-28 16:19:29,170 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:29,359 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:29,365 p=36036 u=tbj |  TASK [sed mysql server_id] ***********************************************************************************************************************************************
2017-11-28 16:19:30,087 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:30,153 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:30,159 p=36036 u=tbj |  TASK [sed mysql path] ****************************************************************************************************************************************************
2017-11-28 16:19:30,868 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:30,940 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:30,946 p=36036 u=tbj |  TASK [sed mysql base path] ***********************************************************************************************************************************************
2017-11-28 16:19:31,726 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:31,729 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:31,733 p=36036 u=tbj |  TASK [sed mysql BP] ******************************************************************************************************************************************************
2017-11-28 16:19:32,353 p=36036 u=tbj |  changed: [master]
2017-11-28 16:19:32,508 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:19:32,513 p=36036 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-28 16:20:01,217 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:20:02,546 p=36036 u=tbj |  changed: [master]
2017-11-28 16:20:02,551 p=36036 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-28 16:20:05,210 p=36036 u=tbj |  changed: [master]
2017-11-28 16:20:05,253 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:20:05,262 p=36036 u=tbj |  TASK [timed wait] ********************************************************************************************************************************************************
2017-11-28 16:20:05,287 p=36036 u=tbj |  Pausing for 10 seconds
2017-11-28 16:20:05,288 p=36036 u=tbj |  (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2017-11-28 16:20:15,293 p=36036 u=tbj |  ok: [master]
2017-11-28 16:20:15,298 p=36036 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-28 16:20:16,055 p=36036 u=tbj |  changed: [master]
2017-11-28 16:20:16,220 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:20:16,228 p=36036 u=tbj |  TASK [success] ***********************************************************************************************************************************************************
2017-11-28 16:20:16,266 p=36036 u=tbj |  ok: [master] => {
    "msg": "success 3306  启动成功,请执行命令(  )搭建搭建主从。"
}
2017-11-28 16:20:16,273 p=36036 u=tbj |  ok: [slave1] => {
    "msg": "success 3306  启动成功,请执行命令(  )搭建搭建主从。"
}
2017-11-28 16:20:16,278 p=36036 u=tbj |  TASK [failed] ************************************************************************************************************************************************************
2017-11-28 16:20:16,305 p=36036 u=tbj |  skipping: [master]
2017-11-28 16:20:16,312 p=36036 u=tbj |  skipping: [slave1]
2017-11-28 16:20:16,319 p=36036 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 16:20:17,054 p=36036 u=tbj |  changed: [master] => (item=)
2017-11-28 16:20:17,118 p=36036 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:20:17,754 p=36036 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 16:20:17,875 p=36036 u=tbj |  changed: [slave1] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 16:20:18,376 p=36036 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 16:20:18,618 p=36036 u=tbj |  changed: [slave1] => (item=flush privileges;)
2017-11-28 16:20:19,061 p=36036 u=tbj |  changed: [master] => (item=)
2017-11-28 16:20:19,387 p=36036 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:20:19,729 p=36036 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:20:20,088 p=36036 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:20:20,347 p=36036 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 16:20:20,979 p=36036 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:20:20,982 p=36036 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 16:20:21,549 p=36036 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 16:20:21,748 p=36036 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:20:22,137 p=36036 u=tbj |  changed: [master] => (item=)
2017-11-28 16:20:22,466 p=36036 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 16:20:22,714 p=36036 u=tbj |  changed: [master] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 16:20:23,175 p=36036 u=tbj |  changed: [master] => (item=)
2017-11-28 16:20:23,179 p=36036 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:20:23,694 p=36036 u=tbj |  changed: [master] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 16:20:23,884 p=36036 u=tbj |  changed: [slave1] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 16:20:24,160 p=36036 u=tbj |  changed: [master] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 16:20:24,541 p=36036 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:20:24,661 p=36036 u=tbj |  changed: [master] => (item=)
2017-11-28 16:20:25,121 p=36036 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:20:25,216 p=36036 u=tbj |  changed: [slave1] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 16:20:25,570 p=36036 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:20:25,887 p=36036 u=tbj |  changed: [slave1] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 16:20:26,091 p=36036 u=tbj |  changed: [master] => (item=reset master;)
2017-11-28 16:20:26,496 p=36036 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:20:26,702 p=36036 u=tbj |  changed: [master] => (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;)
2017-11-28 16:20:26,900 p=36036 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:20:27,635 p=36036 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:20:28,455 p=36036 u=tbj |  changed: [slave1] => (item=reset master;)
2017-11-28 16:20:29,270 p=36036 u=tbj |  changed: [slave1] => (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;)
2017-11-28 16:20:29,282 p=36036 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 16:20:29,310 p=36036 u=tbj |  skipping: [master]
2017-11-28 16:20:30,091 p=36036 u=tbj |  changed: [slave1]
2017-11-28 16:20:30,095 p=36036 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 16:20:30,095 p=36036 u=tbj |  master                     : ok=16   changed=13   unreachable=0    failed=0   
2017-11-28 16:20:30,095 p=36036 u=tbj |  slave1                     : ok=16   changed=14   unreachable=0    failed=0   
2017-11-28 16:28:14,206 p=36503 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 16:28:14,259 p=36503 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 16:28:16,750 p=36503 u=tbj |  ok: [master]
2017-11-28 16:28:16,753 p=36503 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 16:28:17,452 p=36503 u=tbj |  changed: [master] => (item=)
2017-11-28 16:28:18,168 p=36503 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 16:28:18,781 p=36503 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 16:28:19,397 p=36503 u=tbj |  changed: [master] => (item=)
2017-11-28 16:28:19,908 p=36503 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:28:20,523 p=36503 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 16:28:21,081 p=36503 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:28:21,729 p=36503 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 16:28:22,367 p=36503 u=tbj |  changed: [master] => (item=)
2017-11-28 16:28:22,982 p=36503 u=tbj |  changed: [master] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 16:28:23,596 p=36503 u=tbj |  changed: [master] => (item=)
2017-11-28 16:28:24,310 p=36503 u=tbj |  changed: [master] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 16:28:24,927 p=36503 u=tbj |  changed: [master] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 16:28:25,642 p=36503 u=tbj |  changed: [master] => (item=)
2017-11-28 16:28:26,360 p=36503 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:28:26,975 p=36503 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:28:27,589 p=36503 u=tbj |  changed: [master] => (item=reset master;)
2017-11-28 16:28:28,203 p=36503 u=tbj |  changed: [master] => (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;)
2017-11-28 16:28:28,213 p=36503 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 16:28:28,249 p=36503 u=tbj |  skipping: [master]
2017-11-28 16:28:28,256 p=36503 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 16:28:28,265 p=36503 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 16:28:29,545 p=36503 u=tbj |  ok: [slave1]
2017-11-28 16:28:29,550 p=36503 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 16:28:30,097 p=36503 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:28:30,842 p=36503 u=tbj |  changed: [slave1] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 16:28:31,583 p=36503 u=tbj |  changed: [slave1] => (item=flush privileges;)
2017-11-28 16:28:32,401 p=36503 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:28:33,163 p=36503 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:28:33,938 p=36503 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 16:28:34,552 p=36503 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:28:34,950 p=36503 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 16:28:35,780 p=36503 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:28:36,602 p=36503 u=tbj |  changed: [slave1] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 16:28:37,624 p=36503 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:28:38,443 p=36503 u=tbj |  changed: [slave1] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 16:28:39,226 p=36503 u=tbj |  changed: [slave1] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 16:28:39,347 p=36503 u=tbj |   [ERROR]: User interrupted execution

2017-11-28 16:31:00,290 p=36731 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 16:31:00,341 p=36731 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 16:31:02,326 p=36731 u=tbj |  ok: [slave1]
2017-11-28 16:31:02,732 p=36731 u=tbj |  ok: [master]
2017-11-28 16:31:02,737 p=36731 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 16:31:03,522 p=36731 u=tbj |  changed: [master] => (item=)
2017-11-28 16:31:03,622 p=36731 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:31:03,993 p=36731 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 16:31:04,388 p=36731 u=tbj |  changed: [slave1] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 16:31:04,573 p=36731 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 16:31:05,182 p=36731 u=tbj |  changed: [slave1] => (item=flush privileges;)
2017-11-28 16:31:05,279 p=36731 u=tbj |  changed: [master] => (item=)
2017-11-28 16:31:05,901 p=36731 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:31:05,931 p=36731 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:31:06,481 p=36731 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 16:31:06,691 p=36731 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:31:07,001 p=36731 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:31:07,416 p=36731 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 16:31:07,554 p=36731 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 16:31:08,054 p=36731 u=tbj |  changed: [master] => (item=)
2017-11-28 16:31:08,123 p=36731 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:31:08,700 p=36731 u=tbj |  changed: [master] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 16:31:08,926 p=36731 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 16:31:09,301 p=36731 u=tbj |  changed: [master] => (item=)
2017-11-28 16:31:09,676 p=36731 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:31:09,911 p=36731 u=tbj |  changed: [master] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 16:31:10,405 p=36731 u=tbj |  changed: [slave1] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 16:31:10,506 p=36731 u=tbj |  changed: [master] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 16:31:10,988 p=36731 u=tbj |  changed: [master] => (item=)
2017-11-28 16:31:11,104 p=36731 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:31:11,507 p=36731 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:31:11,811 p=36731 u=tbj |  changed: [slave1] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 16:31:12,022 p=36731 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:31:12,481 p=36731 u=tbj |  changed: [slave1] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 16:31:12,653 p=36731 u=tbj |  changed: [master] => (item=reset master;)
2017-11-28 16:31:13,168 p=36731 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:31:13,214 p=36731 u=tbj |  changed: [master] => (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;)
2017-11-28 16:31:13,997 p=36731 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:31:14,811 p=36731 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:31:15,628 p=36731 u=tbj |  changed: [slave1] => (item=reset master;)
2017-11-28 16:31:16,448 p=36731 u=tbj |  changed: [slave1] => (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;)
2017-11-28 16:31:16,454 p=36731 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 16:31:16,484 p=36731 u=tbj |  skipping: [master]
2017-11-28 16:31:17,371 p=36731 u=tbj |  changed: [slave1]
2017-11-28 16:31:17,375 p=36731 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 16:31:17,375 p=36731 u=tbj |  master                     : ok=2    changed=1    unreachable=0    failed=0   
2017-11-28 16:31:17,375 p=36731 u=tbj |  slave1                     : ok=3    changed=2    unreachable=0    failed=0   
2017-11-28 16:40:28,920 p=37013 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 16:40:28,973 p=37013 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 16:40:31,061 p=37013 u=tbj |  ok: [slave1]
2017-11-28 16:40:31,366 p=37013 u=tbj |  ok: [master]
2017-11-28 16:40:31,373 p=37013 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-28 16:40:32,290 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:32,291 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:32,294 p=37013 u=tbj |  TASK [mkdir] *************************************************************************************************************************************************************
2017-11-28 16:40:33,002 p=37013 u=tbj |   [WARNING]: Consider using file module with state=directory rather than running mkdir

2017-11-28 16:40:33,003 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:33,090 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:33,095 p=37013 u=tbj |  TASK [chown] *************************************************************************************************************************************************************
2017-11-28 16:40:33,716 p=37013 u=tbj |   [WARNING]: Consider using file module with owner rather than running chown

2017-11-28 16:40:33,716 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:33,891 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:33,898 p=37013 u=tbj |  TASK [copy config file] **************************************************************************************************************************************************
2017-11-28 16:40:36,352 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:36,423 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:36,429 p=37013 u=tbj |  TASK [sed mysql port] ****************************************************************************************************************************************************
2017-11-28 16:40:37,028 p=37013 u=tbj |   [WARNING]: Consider using template or lineinfile module rather than running sed

2017-11-28 16:40:37,029 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:37,188 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:37,194 p=37013 u=tbj |  TASK [sed mysql server_id] ***********************************************************************************************************************************************
2017-11-28 16:40:38,020 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:38,021 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:38,024 p=37013 u=tbj |  TASK [sed mysql path] ****************************************************************************************************************************************************
2017-11-28 16:40:38,564 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:38,797 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:38,803 p=37013 u=tbj |  TASK [sed mysql base path] ***********************************************************************************************************************************************
2017-11-28 16:40:39,471 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:39,607 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:39,615 p=37013 u=tbj |  TASK [sed mysql BP] ******************************************************************************************************************************************************
2017-11-28 16:40:40,320 p=37013 u=tbj |  changed: [master]
2017-11-28 16:40:40,428 p=37013 u=tbj |  changed: [slave1]
2017-11-28 16:40:40,433 p=37013 u=tbj |  TASK [sed master read only] **********************************************************************************************************************************************
2017-11-28 16:40:40,465 p=37013 u=tbj |  fatal: [master]: FAILED! => {"failed": true, "msg": "The conditional check 'inventory_hostname = \"master\"' failed. The error was: template error while templating string: expected token 'end of statement block', got '='. String: {% if inventory_hostname = \"master\" %} True {% else %} False {% endif %}\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 41, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'sed master read only'\n     ^ here\n"}
2017-11-28 16:40:40,473 p=37013 u=tbj |  fatal: [slave1]: FAILED! => {"failed": true, "msg": "The conditional check 'inventory_hostname = \"master\"' failed. The error was: template error while templating string: expected token 'end of statement block', got '='. String: {% if inventory_hostname = \"master\" %} True {% else %} False {% endif %}\n\nThe error appears to have been in '/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.yaml': line 41, column 6, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n   - name: 'sed master read only'\n     ^ here\n"}
2017-11-28 16:40:40,477 p=37013 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/2.start_mysql.retry

2017-11-28 16:40:40,478 p=37013 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 16:40:40,478 p=37013 u=tbj |  master                     : ok=10   changed=9    unreachable=0    failed=1   
2017-11-28 16:40:40,478 p=37013 u=tbj |  slave1                     : ok=10   changed=9    unreachable=0    failed=1   
2017-11-28 16:41:59,522 p=37203 u=tbj |  PLAY [execute shell] *****************************************************************************************************************************************************
2017-11-28 16:41:59,572 p=37203 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-28 16:42:01,586 p=37203 u=tbj |  ok: [slave1]
2017-11-28 16:42:02,002 p=37203 u=tbj |  ok: [master]
2017-11-28 16:42:02,008 p=37203 u=tbj |  TASK [check: 检查mysql目录是否已经存在 存在则退出] **************************************************************************************************************************************
2017-11-28 16:42:02,463 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:02,911 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:02,916 p=37203 u=tbj |  TASK [mkdir] *************************************************************************************************************************************************************
2017-11-28 16:42:03,566 p=37203 u=tbj |   [WARNING]: Consider using file module with state=directory rather than running mkdir

2017-11-28 16:42:03,567 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:03,716 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:03,721 p=37203 u=tbj |  TASK [chown] *************************************************************************************************************************************************************
2017-11-28 16:42:04,445 p=37203 u=tbj |   [WARNING]: Consider using file module with owner rather than running chown

2017-11-28 16:42:04,445 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:04,514 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:04,522 p=37203 u=tbj |  TASK [copy config file] **************************************************************************************************************************************************
2017-11-28 16:42:06,959 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:07,010 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:07,016 p=37203 u=tbj |  TASK [sed mysql port] ****************************************************************************************************************************************************
2017-11-28 16:42:07,656 p=37203 u=tbj |   [WARNING]: Consider using template or lineinfile module rather than running sed

2017-11-28 16:42:07,656 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:07,812 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:07,817 p=37203 u=tbj |  TASK [sed mysql server_id] ***********************************************************************************************************************************************
2017-11-28 16:42:08,485 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:08,642 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:08,647 p=37203 u=tbj |  TASK [sed mysql path] ****************************************************************************************************************************************************
2017-11-28 16:42:09,356 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:09,463 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:09,468 p=37203 u=tbj |  TASK [sed mysql base path] ***********************************************************************************************************************************************
2017-11-28 16:42:10,193 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:10,278 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:10,284 p=37203 u=tbj |  TASK [sed mysql BP] ******************************************************************************************************************************************************
2017-11-28 16:42:10,977 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:11,110 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:11,116 p=37203 u=tbj |  TASK [sed master read only] **********************************************************************************************************************************************
2017-11-28 16:42:11,150 p=37203 u=tbj |  skipping: [slave1]
2017-11-28 16:42:11,919 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:11,924 p=37203 u=tbj |  TASK [初始化数据库] ************************************************************************************************************************************************************
2017-11-28 16:42:40,900 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:42,741 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:42,746 p=37203 u=tbj |  TASK [启动数据库] *************************************************************************************************************************************************************
2017-11-28 16:42:44,486 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:45,505 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:45,513 p=37203 u=tbj |  TASK [timed wait] ********************************************************************************************************************************************************
2017-11-28 16:42:45,537 p=37203 u=tbj |  Pausing for 10 seconds
2017-11-28 16:42:45,537 p=37203 u=tbj |  (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2017-11-28 16:42:55,544 p=37203 u=tbj |  ok: [master]
2017-11-28 16:42:55,548 p=37203 u=tbj |  TASK [判断是否重启成功] **********************************************************************************************************************************************************
2017-11-28 16:42:56,361 p=37203 u=tbj |  changed: [master]
2017-11-28 16:42:56,437 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:42:56,444 p=37203 u=tbj |  TASK [success] ***********************************************************************************************************************************************************
2017-11-28 16:42:56,485 p=37203 u=tbj |  ok: [master] => {
    "msg": "success 3306  启动成功,请执行命令(  )搭建搭建主从。"
}
2017-11-28 16:42:56,488 p=37203 u=tbj |  ok: [slave1] => {
    "msg": "success 3306  启动成功,请执行命令(  )搭建搭建主从。"
}
2017-11-28 16:42:56,495 p=37203 u=tbj |  TASK [failed] ************************************************************************************************************************************************************
2017-11-28 16:42:56,523 p=37203 u=tbj |  skipping: [master]
2017-11-28 16:42:56,535 p=37203 u=tbj |  skipping: [slave1]
2017-11-28 16:42:56,542 p=37203 u=tbj |  TASK [execute sql] *******************************************************************************************************************************************************
2017-11-28 16:42:57,283 p=37203 u=tbj |  changed: [master] => (item=)
2017-11-28 16:42:57,366 p=37203 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:42:58,015 p=37203 u=tbj |  changed: [master] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 16:42:58,126 p=37203 u=tbj |  changed: [slave1] => (item=delete from mysql.user where host!='127.0.0.1' or user!='root';)
2017-11-28 16:42:58,551 p=37203 u=tbj |  changed: [master] => (item=flush privileges;)
2017-11-28 16:42:58,925 p=37203 u=tbj |  changed: [slave1] => (item=flush privileges;)
2017-11-28 16:42:59,111 p=37203 u=tbj |  changed: [master] => (item=)
2017-11-28 16:42:59,741 p=37203 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:42:59,741 p=37203 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:43:00,455 p=37203 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 16:43:00,488 p=37203 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'127.0.0.1' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:43:01,028 p=37203 u=tbj |  changed: [master] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:43:01,220 p=37203 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'127.0.0.1';)
2017-11-28 16:43:01,600 p=37203 u=tbj |  changed: [master] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 16:43:01,953 p=37203 u=tbj |  changed: [slave1] => (item=grant process,reload,lock tables,super,replication client,replication slave on *.* to 'bkpuser'@'localhost' identified by password '*2a58dd5a959b1b5d320404c21b42bbc69ac0defe';)
2017-11-28 16:43:02,147 p=37203 u=tbj |  changed: [master] => (item=)
2017-11-28 16:43:02,710 p=37203 u=tbj |  changed: [master] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 16:43:02,710 p=37203 u=tbj |  changed: [slave1] => (item=grant select,insert,update,create on percona_schema.* to 'bkpuser'@'localhost';)
2017-11-28 16:43:03,363 p=37203 u=tbj |  changed: [master] => (item=)
2017-11-28 16:43:03,490 p=37203 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:43:03,938 p=37203 u=tbj |  changed: [master] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 16:43:04,277 p=37203 u=tbj |  changed: [slave1] => (item=grant replication client, process on *.* to falcon@'127.0.0.1' identified by password '*fcf759487eb0b555e9a59da3c17db0957b52aca6';)
2017-11-28 16:43:04,499 p=37203 u=tbj |  changed: [master] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 16:43:05,063 p=37203 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:43:05,095 p=37203 u=tbj |  changed: [master] => (item=)
2017-11-28 16:43:05,563 p=37203 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:43:05,857 p=37203 u=tbj |  changed: [slave1] => (item=grant process, super on *.* to 'lepus_monitor'@'192.168.40.65' identified by password '*4d4c3f19988186783d5d44e42b448a2ccd5d78e5';)
2017-11-28 16:43:06,255 p=37203 u=tbj |  changed: [master] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:43:06,634 p=37203 u=tbj |  changed: [slave1] => (item=grant select, insert, update, delete, create, alter, super, replication slave, replication client on *.* to 'putin_rw'@'172.16.33.191' identified by password '*a6359871933ad9553787adadfdcc3bdbc7445233';)
2017-11-28 16:43:06,931 p=37203 u=tbj |  changed: [master] => (item=reset master;)
2017-11-28 16:43:07,419 p=37203 u=tbj |  changed: [slave1] => (item=)
2017-11-28 16:43:07,493 p=37203 u=tbj |  changed: [master] => (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;)
2017-11-28 16:43:08,238 p=37203 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'127.0.0.1' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:43:09,004 p=37203 u=tbj |  changed: [slave1] => (item=grant all on *.* to tianyuan@'192.168.40.65' identified by password '*efc0f6a55d04b7d11330b7e3c3234b14d1b9be3c' with grant option;)
2017-11-28 16:43:09,774 p=37203 u=tbj |  changed: [slave1] => (item=reset master;)
2017-11-28 16:43:10,491 p=37203 u=tbj |  changed: [slave1] => (item=grant all on *.* to root@'127.0.0.1' identified by password '*2eada92e1de4822686100c544d7d5e88ac27fb15' with grant option;)
2017-11-28 16:43:10,497 p=37203 u=tbj |  TASK [start slave] *******************************************************************************************************************************************************
2017-11-28 16:43:10,525 p=37203 u=tbj |  skipping: [master]
2017-11-28 16:43:11,311 p=37203 u=tbj |  changed: [slave1]
2017-11-28 16:43:11,314 p=37203 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-28 16:43:11,314 p=37203 u=tbj |  master                     : ok=17   changed=14   unreachable=0    failed=0   
2017-11-28 16:43:11,314 p=37203 u=tbj |  slave1                     : ok=16   changed=14   unreachable=0    failed=0   
2017-11-30 18:10:20,126 p=41653 u=tbj |  PLAY [backup mysql] ******************************************************************************************************************************************************
2017-11-30 18:10:20,214 p=41653 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-30 18:10:22,150 p=41653 u=tbj |  ok: [192.168.1.101]
2017-11-30 18:10:22,155 p=41653 u=tbj |  TASK [安装基础包] *************************************************************************************************************************************************************
2017-11-30 18:10:23,778 p=41653 u=tbj |  failed: [192.168.1.101] (item=[u'percona-xtrabackup-24']) => {"changed": false, "failed": true, "item": ["percona-xtrabackup-24"], "msg": "No package matching 'percona-xtrabackup-24' found available, installed or updated", "rc": 126, "results": ["No package matching 'percona-xtrabackup-24' found available, installed or updated"]}
2017-11-30 18:10:23,780 p=41653 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-30 18:10:23,780 p=41653 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-30 18:10:23,780 p=41653 u=tbj |  192.168.1.101              : ok=1    changed=0    unreachable=0    failed=1   
2017-11-30 18:11:03,742 p=41684 u=tbj |  PLAY [backup mysql] ******************************************************************************************************************************************************
2017-11-30 18:11:03,816 p=41684 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-30 18:11:05,157 p=41684 u=tbj |  ok: [192.168.1.101]
2017-11-30 18:11:05,162 p=41684 u=tbj |  TASK [安装基础包] *************************************************************************************************************************************************************
2017-11-30 18:12:03,455 p=41684 u=tbj |   [ERROR]: User interrupted execution

2017-11-30 18:12:13,631 p=41713 u=tbj |  PLAY [backup mysql] ******************************************************************************************************************************************************
2017-11-30 18:12:13,748 p=41713 u=tbj |  TASK [Gathering Facts] ***************************************************************************************************************************************************
2017-11-30 18:12:14,138 p=41713 u=tbj |  fatal: [192.168.1.102]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).\r\n", "unreachable": true}
2017-11-30 18:12:14,141 p=41713 u=tbj |  	to retry, use: --limit @/Users/tbj/jetbinliu/mysql/auto_install_mysql/3.config_mysql.retry

2017-11-30 18:12:14,141 p=41713 u=tbj |  PLAY RECAP ***************************************************************************************************************************************************************
2017-11-30 18:12:14,141 p=41713 u=tbj |  192.168.1.102              : ok=0    changed=0    unreachable=1    failed=0   
